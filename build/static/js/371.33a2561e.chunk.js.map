{"version":3,"file":"static/js/371.33a2561e.chunk.js","mappings":"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","sources":["components/AddTool.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { FaCheck, FaLink, FaListUl, FaImage, FaLightbulb, FaCopy } from 'react-icons/fa';\r\nimport api from '../utils/api';\r\nimport bgVideo from '../assets/Cinematic_Mosaic_Wall_Animation.mp4';\r\n\r\n// Searchable Dropdown (Combobox)\r\nconst SearchableSelect = ({ label, options, value, onChange, placeholder, name }) => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const dropdownRef = React.useRef(null);\r\n\r\n  // Sync internal input with external value\r\n  useEffect(() => {\r\n      const found = options.find(opt => opt.value === value);\r\n      if (found) {\r\n          setSearchTerm(found.label);\r\n      } else {\r\n          setSearchTerm(value || '');\r\n      }\r\n  }, [value, options]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target)) setIsOpen(false);\r\n    };\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, []);\r\n\r\n  // Filter options based on search term\r\n  // Don't filter if the search term strictly matches the selected option's label to avoid empty list when selected\r\n  const filteredOptions = options.filter(opt => \r\n     opt.label.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  const handleInputChange = (e) => {\r\n      const val = e.target.value;\r\n      setSearchTerm(val);\r\n      setIsOpen(true);\r\n      // Propagate the raw text to parent immediately so typing \"New Cat\" works\r\n      onChange({ target: { name, value: val } });\r\n  };\r\n\r\n  const handleOptionClick = (opt) => {\r\n      onChange({ target: { name, value: opt.value } }); // Provide the ID/Slug\r\n      setSearchTerm(opt.label);\r\n      setIsOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative\" ref={dropdownRef}>\r\n      <label className=\"text-sm font-semibold text-gray-300 mb-2 block\">{label}</label>\r\n      <div className={`relative w-full rounded-xl bg-[#0F0F0F] border ${isOpen ? 'border-blue-500/50 ring-2 ring-blue-500/20' : 'border-white/10'} transition-all hover:bg-white/5`}>\r\n          <input\r\n              type=\"text\"\r\n              name={name}\r\n              className=\"w-full px-4 py-3 bg-transparent border-none text-white placeholder-gray-500 focus:ring-0 outline-none rounded-xl pr-10\"\r\n              placeholder={placeholder}\r\n              value={searchTerm}\r\n              onChange={handleInputChange}\r\n              onFocus={() => setIsOpen(true)}\r\n              autoComplete=\"off\"\r\n          />\r\n          {/* Arrow Icon */}\r\n          <div \r\n              className=\"absolute right-0 top-0 h-full w-10 flex items-center justify-center cursor-pointer text-gray-400\"\r\n              onClick={() => setIsOpen(!isOpen)}\r\n          >\r\n              <span className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}>â–¼</span>\r\n          </div>\r\n      </div>\r\n      \r\n      {isOpen && (\r\n        <div className=\"absolute top-full mt-2 w-full bg-[#0F0F0F] backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 z-50 p-2 max-h-60 overflow-y-auto scrollbar-hide\">\r\n          <div className=\"space-y-1\">\r\n            {filteredOptions.length > 0 ? (\r\n                filteredOptions.map((opt) => (\r\n                  <div \r\n                      key={opt.value} \r\n                      onClick={() => handleOptionClick(opt)} \r\n                      className={`px-4 py-3 rounded-xl cursor-pointer text-sm font-medium transition-all duration-200 flex items-center justify-between ${value === opt.value ? 'bg-blue-600/20 text-blue-200' : 'text-gray-300 hover:bg-white/10 hover:text-white'}`}\r\n                  >\r\n                  {opt.label}\r\n                  {value === opt.value && <span className=\"text-blue-400\">âœ“</span>}\r\n                  </div>\r\n                ))\r\n            ) : (\r\n                <div className=\"px-4 py-3 text-sm text-gray-500 italic\">\r\n                    No matching categories. Press submit to create \"{searchTerm}\".\r\n                </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst AddTool = ({ historyProp }) => {\r\n  const [currentStep, setCurrentStep] = useState(1);\r\n  const [direction, setDirection] = useState(0);\r\n\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    shortDescription: '',\r\n    description: '',\r\n    url: '',\r\n    category: '', // This will hold the slug OR the typed name\r\n    categoryDisplay: '', // This holds the display value (Name)\r\n    pricing: 'Free',\r\n    hashtags: ''\r\n  });\r\n  const [file, setFile] = useState(null);\r\n  const [message, setMessage] = useState('');\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [categories, setCategories] = useState([]);\r\n  const [showQuickFill, setShowQuickFill] = useState(false);\r\n  const [promptMode, setPromptMode] = useState('json'); // 'json' or 'text'\r\n  \r\n  const token = localStorage.getItem('token');\r\n  const isLoggedIn = !!token;\r\n\r\n  useEffect(() => {\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const res = await api.get('/api/categories');\r\n        const fetchedCategories = res.data.map(c => ({ id: c.slug, name: c.name }));\r\n        setCategories(fetchedCategories);\r\n      } catch (err) {\r\n        console.error('Failed to fetch categories', err);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setForm({ ...form, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleFile = (e) => setFile(e.target.files[0]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    setMessage('');\r\n\r\n    try {\r\n      let snapshotUrl = '';\r\n      if (file) {\r\n        const formData = new FormData();\r\n        formData.append('snapshot', file);\r\n        const uploadRes = await api.post('/api/tools/upload', formData, {\r\n          headers: { 'Content-Type': 'multipart/form-data' }\r\n        });\r\n        snapshotUrl = uploadRes.data.url;\r\n      }\r\n\r\n      let finalCategory = '';\r\n      \r\n      // Resolve Category\r\n      // Check if current form.category (which might be Name or Slug or Typed Text) matches an existing category\r\n      const exactMatch = categories.find(c => c.name.toLowerCase() === form.category.toLowerCase() || c.id === form.category);\r\n      \r\n      if (exactMatch) {\r\n          finalCategory = exactMatch.id;\r\n      } else {\r\n          // Custom category - create it\r\n          try {\r\n              const catRes = await api.post('/api/categories/request', { name: form.category });\r\n              finalCategory = catRes.data.category.slug;\r\n          } catch (catErr) {\r\n              console.error('Failed to create custom category', catErr);\r\n              // Fallback: just send what they typed (backend might reject if stringent, but tool model allows string)\r\n              finalCategory = form.category;\r\n          }\r\n      }\r\n\r\n      const toolData = {\r\n        ...form,\r\n        category: finalCategory,\r\n        snapshotUrl,\r\n        hashtags: form.hashtags ? form.hashtags.split(/[\\s,]+/).filter(tag => tag.trim() !== '') : []\r\n      };\r\n\r\n      await api.post('/api/tools/submit', toolData);\r\n      setMessage('âœ… Tool submitted successfully! It will be reviewed by an admin.');\r\n      setForm({ name: '', shortDescription: '', description: '', url: '', category: '', categoryDisplay: '', pricing: 'Free', hashtags: '' });\r\n      setFile(null);\r\n      setCurrentStep(1); // Reset to step 1\r\n    } catch (err) {\r\n      console.error('Submit error:', err);\r\n      setMessage(err.response?.data?.error || err.message || 'Failed to submit tool');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  // --- WIZARD LOGIC ---\r\n  const steps = [\r\n    { id: 1, title: 'Essentials', desc: 'Identify your tool', icon: FaLink },\r\n    { id: 2, title: 'Details', desc: 'Describe functionality', icon: FaListUl },\r\n    { id: 3, title: 'Visuals', desc: 'Add screenshot', icon: FaImage }\r\n  ];\r\n\r\n  const validateStep = (step) => {\r\n    if (step === 1) return form.name && form.url && form.category && form.pricing;\r\n    if (step === 2) return form.shortDescription && form.description;\r\n    return true;\r\n  };\r\n\r\n  const nextStep = () => {\r\n    if (validateStep(currentStep)) {\r\n      setDirection(1);\r\n      setCurrentStep((prev) => Math.min(prev + 1, 3));\r\n    } else {\r\n      // Could add a shake animation or toast here\r\n      alert('Please fill in all required fields.');\r\n    }\r\n  };\r\n\r\n  const prevStep = () => {\r\n    setDirection(-1);\r\n    setCurrentStep((prev) => Math.max(prev - 1, 1));\r\n  };\r\n\r\n  const variants = {\r\n    enter: (direction) => ({\r\n      x: direction > 0 ? 50 : -50,\r\n      opacity: 0,\r\n    }),\r\n    center: {\r\n      zIndex: 1,\r\n      x: 0,\r\n      opacity: 1,\r\n    },\r\n    exit: (direction) => ({\r\n      zIndex: 0,\r\n      x: direction < 0 ? 50 : -50,\r\n      opacity: 0,\r\n    }),\r\n  };\r\n\r\n  // Reusable Dropdown (kept from previous code)\r\n  const CustomDropdown = ({ label, options, value, onChange, placeholder, name, dropUp = false }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const dropdownRef = React.useRef(null);\r\n    useEffect(() => {\r\n      const handleClickOutside = (event) => {\r\n        if (dropdownRef.current && !dropdownRef.current.contains(event.target)) setIsOpen(false);\r\n      };\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n    const selectedOption = options.find(opt => opt.value === value);\r\n    return (\r\n      <div className=\"relative\" ref={dropdownRef}>\r\n        <label className=\"text-sm font-semibold text-gray-300 mb-2 block\">{label}</label>\r\n        <div onClick={() => setIsOpen(!isOpen)} className={`w-full px-4 py-3 rounded-xl bg-[#0F0F0F] border ${isOpen ? 'border-blue-500/50 ring-2 ring-blue-500/20' : 'border-white/10'} text-white cursor-pointer flex items-center justify-between transition-all hover:bg-white/5`}>\r\n          <span className={!selectedOption ? \"text-gray-400\" : \"\"}>{selectedOption ? selectedOption.label : placeholder}</span>\r\n          <span className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}>â–¼</span>\r\n        </div>\r\n        {isOpen && (\r\n          <div className={`absolute left-0 w-full bg-[#0F0F0F] backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 z-50 p-2 max-h-60 overflow-y-auto scrollbar-hide ${dropUp ? 'bottom-full mb-2' : 'top-full mt-2'}`}>\r\n            <div className=\"space-y-1\">\r\n              {options.map((opt) => (\r\n                <div key={opt.value} onClick={() => { onChange({ target: { name, value: opt.value } }); setIsOpen(false); }} className={`px-4 py-3 rounded-xl cursor-pointer text-sm font-medium transition-all duration-200 flex items-center justify-between ${value === opt.value ? 'bg-blue-600/20 text-blue-200' : 'text-gray-300 hover:bg-white/10 hover:text-white'}`}>\r\n                  {opt.label}\r\n                  {value === opt.value && <span className=\"text-blue-400\">âœ“</span>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // --- QUICK FILL LOGIC ---\r\n  const handleQuickFill = (text) => {\r\n      if (!text) return;\r\n\r\n      // Helper to strip markdown links if ChatGPT provides them: [url](url) -> url\r\n      const cleanUrl = (val) => {\r\n          if (!val) return '';\r\n          const match = val.match(/\\[.*?\\]\\((.*?)\\)/);\r\n          return match ? match[1] : val;\r\n      };\r\n      \r\n      try {\r\n          // 1. Try Valid JSON first\r\n          let jsonToParse = text;\r\n          const firstBrace = text.indexOf('{');\r\n          const lastBrace = text.lastIndexOf('}');\r\n          \r\n          // If valid braces found, extract just the JSON part to ignore headers/footers\r\n          if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\r\n              jsonToParse = text.substring(firstBrace, lastBrace + 1);\r\n          }\r\n\r\n          const data = JSON.parse(jsonToParse);\r\n          setForm(prev => ({ \r\n              ...prev, \r\n              name: data.name || prev.name,\r\n              url: cleanUrl(data.url) || prev.url, \r\n              shortDescription: data.shortDescription || prev.shortDescription,\r\n              description: data.description || prev.description,\r\n              category: data.category || prev.category,\r\n              pricing: data.pricing || prev.pricing,\r\n              hashtags: data.hashtags || prev.hashtags,\r\n          }));\r\n          setMessage('âœ… Auto-filled from JSON!');\r\n      } catch (e) {\r\n          // 2. Fallback to Line-by-Line Text Parsing\r\n          const lines = text.split('\\n');\r\n          const newForm = { ...form };\r\n          let updated = false;\r\n\r\n          lines.forEach(line => {\r\n              if (line.includes(':')) {\r\n                  const [key, ...valParts] = line.split(':');\r\n                  const value = valParts.join(':').trim();\r\n                  const k = key.trim().toLowerCase();\r\n\r\n                  if (value) {\r\n                      if (k.includes('name')) { newForm.name = value; updated = true; }\r\n                      else if (k.includes('url')) { newForm.url = cleanUrl(value); updated = true; }\r\n                      else if (k.includes('short')) { newForm.shortDescription = value; updated = true; }\r\n                      else if (k.includes('description') || k.includes('desc')) { newForm.description = value; updated = true; }\r\n                      else if (k.includes('category')) { newForm.category = value; updated = true; }\r\n                      else if (k.includes('pricing')) { newForm.pricing = value; updated = true; }\r\n                      else if (k.includes('hashtag')) { newForm.hashtags = value; updated = true; }\r\n                  }\r\n              }\r\n          });\r\n\r\n          if (updated) {\r\n              setForm(newForm);\r\n              setMessage('âœ… Auto-filled from Text!');\r\n          } else {\r\n              alert('Could not parse text. Use format \"Key: Value\" (e.g. Name: MyTool)');\r\n              return; // Don't close modal if failed\r\n          }\r\n      }\r\n      setShowQuickFill(false);\r\n  };\r\n\r\n  const copyToClipboard = (text) => {\r\n    navigator.clipboard.writeText(text);\r\n    alert('Copied to clipboard!');\r\n  };\r\n\r\n  // Helper: Get comma-separated list of categories for the prompt\r\n  const categoryListString = categories.map(c => c.name).join(', ');\r\n  \r\n  // Dynamic Prompt Construction\r\n  const jsonPromptText = `Analyze the tool at ${form.url || form.name || 'this URL'} and generate a JSON object for my directory AI Tools Hub.\r\n\r\nReturn ONLY this raw JSON structure (no markdown, no backticks):\r\n\r\n{\r\n  \"name\": \"Tool Name\",\r\n  \"url\": \"${form.url || 'https://...'}\",\r\n  \"shortDescription\": \"Max 150 chars catchy summary, user-friendly.\",\r\n  \"description\": \"1-2 short professional paragraphs explaining main features and value. Avoid hype.\",\r\n  \"category\": \"Choose ONE best fit from: ${categoryListString || 'Video, Coding, Writing, Marketing, Design...'}\",\r\n  \"pricing\": \"Free / Freemium / Paid / Free Trial / Contact\",\r\n  \"hashtags\": \"#Tag1 #Tag2 #Tag3\"\r\n}`;\r\n\r\n  const textPromptText = `Create a clean AI tool listing for ${form.url || form.name || 'this URL'} for AI Tools Hub.\r\n\r\nFormat:\r\nName: [Tool Name]\r\nURL: ${form.url || 'https://...'}\r\nCategory: [Choose from: ${categoryListString || 'Video, Coding...'}]\r\nPricing: [Free/Freemium/Paid/Free Trial/Contact]\r\nShort Description: [Max 150 chars]\r\nDescription: [1-2 professional paragraphs]\r\nHashtags: #Tag1 #Tag2`;\r\n\r\n  const activePrompt = promptMode === 'json' ? jsonPromptText : textPromptText;\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center p-6 relative overflow-hidden font-sans\">\r\n      {/* Background Video */}\r\n      <div className=\"fixed inset-0 z-0\">\r\n          <video src={bgVideo} autoPlay loop muted playsInline className=\"w-full h-full object-cover opacity-80\" />\r\n          <div className=\"absolute inset-0 bg-black/60 backdrop-blur-[2px]\"></div>\r\n          <div className=\"absolute inset-0 bg-gradient-to-t from-black via-transparent to-black/40\"></div>\r\n      </div>\r\n\r\n      {/* Main Container - GRID with Sidebar */}\r\n      <div className=\"w-full max-w-7xl relative z-10 grid grid-cols-1 lg:grid-cols-12 gap-6 items-start\">\r\n        \r\n        {/* LEFT SIDEBAR (Progress Flow) */}\r\n        <div className=\"lg:col-span-3 bg-black/40 backdrop-blur-xl p-8 rounded-3xl border border-white/10 shadow-2xl relative\">\r\n             <div className=\"mb-8\">\r\n                 <h1 className=\"text-2xl font-bold text-white mb-2\">Submit Tool</h1>\r\n                 <p className=\"text-gray-400 text-sm mb-4\">Follow the steps to list your AI tool.</p>\r\n                 \r\n                 {/* Quick Fill Button */}\r\n                 <button \r\n                    onClick={() => setShowQuickFill(true)}\r\n                    className=\"w-full py-2 px-4 rounded-xl bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-500 hover:to-indigo-500 text-white text-sm font-bold shadow-lg shadow-blue-500/20 transition-all flex items-center justify-center gap-2\"\r\n                 >\r\n                    <span>âš¡</span> Quick Fill\r\n                 </button>\r\n             </div>\r\n\r\n             <div className=\"space-y-6 relative\">\r\n                 {/* Connecting Line */}\r\n                 <div className=\"absolute left-[15px] top-4 bottom-4 w-[2px] bg-white/10 z-0\"></div>\r\n\r\n                 {steps.map((step) => {\r\n                     const isCompleted = currentStep > step.id;\r\n                     const isActive = currentStep === step.id;\r\n                     \r\n                     return (\r\n                         <div key={step.id} className={`relative z-10 flex items-center gap-4 transition-all duration-300 ${isActive || isCompleted ? 'opacity-100' : 'opacity-40'}`}>\r\n                             {/* Icon Circle */}\r\n                             <div className={`w-8 h-8 rounded-full flex items-center justify-center border-2 transition-all duration-300 shrink-0 ${isCompleted ? 'bg-green-500 border-green-500' : isActive ? 'bg-[#FF6B00] border-[#FF6B00]' : 'bg-black border-white/20'}`}>\r\n                                 {isCompleted ? <FaCheck className=\"text-white text-xs\" /> : <step.icon className=\"text-white text-xs\" />}\r\n                             </div>\r\n                             \r\n                             {/* Text */}\r\n                             <div>\r\n                                 <h3 className={`text-sm font-bold ${isActive ? 'text-white' : 'text-gray-300'}`}>{step.title}</h3>\r\n                                 <p className=\"text-xs text-gray-500 hidden xl:block\">{step.desc}</p>\r\n                             </div>\r\n                         </div>\r\n                     );\r\n                 })}\r\n             </div>\r\n        </div>\r\n\r\n        {/* CENTER CONTENT (Form) */}\r\n        <motion.div \r\n           initial={{ opacity: 0, x: 20 }}\r\n           animate={{ opacity: 1, x: 0 }}\r\n           className=\"lg:col-span-6 bg-black/40 backdrop-blur-xl p-8 rounded-3xl border border-white/10 shadow-2xl relative\"\r\n        >\r\n          {/* Form Header (Simplified) */}\r\n          <div className=\"mb-8 flex items-center justify-between\">\r\n             <h2 className=\"text-xl font-bold text-white tracking-tight\">{steps[currentStep-1].title}</h2>\r\n             <span className=\"text-xs font-mono text-[#FF6B00] border border-[#FF6B00]/30 px-2 py-1 rounded bg-[#FF6B00]/10\">Step {currentStep}/3</span>\r\n          </div>\r\n\r\n          {message && (\r\n            <div className={`mb-6 p-3 rounded-lg text-sm font-medium ${message.includes('successfully') ? 'bg-green-500/20 border border-green-500/50 text-green-300' : 'bg-yellow-500/20 border border-yellow-500/50 text-yellow-300'}`}>\r\n              {message}\r\n            </div>\r\n          )}\r\n\r\n          <form onSubmit={handleSubmit}>\r\n             <AnimatePresence custom={direction} mode=\"wait\">\r\n                <motion.div\r\n                  key={currentStep}\r\n                  custom={direction}\r\n                  variants={variants}\r\n                  initial=\"enter\"\r\n                  animate=\"center\"\r\n                  exit=\"exit\"\r\n                  transition={{ duration: 0.3 }}\r\n                  className=\"space-y-5\"\r\n                >\r\n                   {/* STEP 1: ESSENTIALS */}\r\n                   {currentStep === 1 && (\r\n                      <>\r\n                         <input name=\"name\" value={form.name} onChange={handleChange} autoFocus placeholder=\"Tool Name *\" className=\"w-full px-4 py-3 rounded-lg bg-gray-700/40 border border-white/20 text-white placeholder-gray-400 focus:bg-gray-700/60 focus:border-[#FF6B00]/50 transition-all outline-none\" />\r\n                         \r\n                         <input name=\"url\" value={form.url} onChange={handleChange} placeholder=\"Tool URL (https://...) *\" className=\"w-full px-4 py-3 rounded-lg bg-gray-700/40 border border-white/20 text-white placeholder-gray-400 focus:bg-gray-700/60 focus:border-[#FF6B00]/50 transition-all outline-none\" />\r\n\r\n                         <div className=\"grid grid-cols-1 gap-4\">\r\n                            {/* Searchable Category Input */}\r\n                            <SearchableSelect \r\n                                label=\"Category *\" \r\n                                options={categories.map(c => ({ value: c.id, label: c.name }))}\r\n                                value={form.category} \r\n                                onChange={handleChange} \r\n                                name=\"category\" \r\n                                placeholder=\"Type or Select Category\" \r\n                            />\r\n\r\n                            <CustomDropdown label=\"Pricing *\" options={[{ value: 'Free', label: 'Free' }, { value: 'Freemium', label: 'Freemium' }, { value: 'Paid', label: 'Paid' }, { value: 'Free Trial', label: 'Free Trial' }, { value: 'Contact', label: 'Contact' }]} value={form.pricing} onChange={handleChange} name=\"pricing\" placeholder=\"Select Pricing\" dropUp={true} />\r\n                         </div>\r\n                      </>\r\n                   )}\r\n\r\n                   {/* STEP 2: DETAILS */}\r\n                   {currentStep === 2 && (\r\n                      <>\r\n                         <textarea name=\"shortDescription\" value={form.shortDescription} onChange={handleChange} autoFocus placeholder=\"Short Description (max 150 chars) *\" rows={3} maxLength={150} className=\"w-full px-4 py-3 rounded-lg bg-gray-700/40 border border-white/20 text-white placeholder-gray-400 focus:bg-gray-700/60 focus:border-[#FF6B00]/50 transition-all outline-none resize-none\" />\r\n                         \r\n                         <textarea name=\"description\" value={form.description} onChange={handleChange} placeholder=\"Full Description / Details *\" rows={6} className=\"w-full px-4 py-3 rounded-lg bg-gray-700/40 border border-white/20 text-white placeholder-gray-400 focus:bg-gray-700/60 focus:border-[#FF6B00]/50 transition-all outline-none resize-none\" />\r\n\r\n                         <div>\r\n                           <label className=\"text-xs font-semibold text-gray-400 mb-2 block uppercase\">Hashtags</label>\r\n                           <input name=\"hashtags\" value={form.hashtags} onChange={handleChange} placeholder=\"#AI #Design...\" className=\"w-full px-4 py-3 rounded-lg bg-gray-700/40 border border-white/20 text-white placeholder-gray-400 focus:bg-gray-700/60 focus:border-[#FF6B00]/50 transition-all outline-none\" />\r\n                           <div className=\"mt-2 flex flex-wrap gap-2\">\r\n                             {['#AI', '#Design', '#Code', '#Writing'].map(tag => (\r\n                               <button type=\"button\" key={tag} onClick={() => setForm(prev => ({ ...prev, hashtags: prev.hashtags ? `${prev.hashtags} ${tag}` : tag }))} className=\"px-2 py-1 text-[10px] rounded-md bg-white/5 hover:bg-white/10 text-gray-300 border border-white/10 transition-all\">\r\n                                 {tag}\r\n                               </button>\r\n                             ))}\r\n                           </div>\r\n                         </div>\r\n                      </>\r\n                   )}\r\n\r\n                   {/* STEP 3: VISUALS */}\r\n                   {currentStep === 3 && (\r\n                      <>\r\n                         <div className=\"border-2 border-dashed border-white/10 rounded-xl p-8 text-center hover:border-[#FF6B00]/50 transition-colors group cursor-pointer relative bg-black/20\">\r\n                           <input type=\"file\" accept=\"image/*\" onChange={handleFile} className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\" />\r\n                           <div className=\"flex flex-col items-center\">\r\n                              {file ? (\r\n                                 <span className=\"text-[#FF6B00] font-semibold\">{file.name}</span>\r\n                              ) : (\r\n                                 <>\r\n                                    <span className=\"text-3xl mb-2 group-hover:scale-110 transition-transform\">ðŸ“¸</span>\r\n                                    <p className=\"text-sm text-gray-300 font-medium\">Click to upload screenshot</p>\r\n                                    <p className=\"text-xs text-gray-500 mt-1\">PNG, JPG (Max 5MB)</p>\r\n                                 </>\r\n                              )}\r\n                           </div>\r\n                         </div>\r\n\r\n                         {!file && <p className=\"text-center text-xs text-red-400\">* Screenshot is required</p>}\r\n                      </>\r\n                   )}\r\n                </motion.div>\r\n             </AnimatePresence>\r\n\r\n             {/* Navigation Buttons */}\r\n             <div className=\"flex gap-4 mt-8 pt-6 border-t border-white/5\">\r\n                {currentStep > 1 && (\r\n                  <button type=\"button\" onClick={prevStep} className=\"flex-1 py-3 rounded-xl bg-white/5 hover:bg-white/10 text-white font-medium transition-all\">\r\n                    Back\r\n                  </button>\r\n                )}\r\n                \r\n                {currentStep < 3 ? (\r\n                  <button type=\"button\" onClick={nextStep} className=\"flex-1 py-3 rounded-xl bg-[#FF6B00] hover:bg-[#ff8533] text-white font-bold shadow-lg hover:shadow-[#FF6B00]/20 transition-all\">\r\n                    Next: {steps[currentStep].title}\r\n                  </button>\r\n                ) : (\r\n                  <button type=\"submit\" disabled={isSubmitting || !file} className=\"flex-1 py-3 rounded-xl bg-[#FF6B00] hover:bg-[#ff8533] text-white font-bold shadow-lg hover:shadow-[#FF6B00]/20 transition-all disabled:opacity-50 disabled:cursor-not-allowed\">\r\n                    {isSubmitting ? 'Submitting...' : 'Submit Tool ðŸš€'}\r\n                  </button>\r\n                )}\r\n             </div>\r\n          </form>\r\n        </motion.div>\r\n\r\n        {/* RIGHT SIDEBAR (AI Helper) */}\r\n        <div className=\"lg:col-span-3 space-y-4\"> \r\n            <motion.div \r\n               initial={{ opacity: 0, x: 20 }}\r\n               animate={{ opacity: 1, x: 0, transition: { delay: 0.2 } }}\r\n               className=\"bg-[#1A1A1A]/80 backdrop-blur-xl p-6 rounded-3xl border border-white/10 shadow-xl\"\r\n            >\r\n               <div className=\"flex items-center justify-between mb-3\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                      <div className=\"w-8 h-8 rounded-full bg-yellow-400/20 flex items-center justify-center\">\r\n                          <FaLightbulb className=\"text-yellow-400 text-sm\" />\r\n                      </div>\r\n                      <h3 className=\"font-bold text-gray-200\">AI Helper</h3>\r\n                  </div>\r\n                  \r\n                  {/* Prompt Mode Toggle */}\r\n                  <div className=\"flex bg-black/50 rounded-lg p-1 border border-white/10\">\r\n                      <button \r\n                        onClick={() => setPromptMode('json')}\r\n                        className={`px-3 py-1 text-[10px] font-bold rounded-md transition-all ${promptMode === 'json' ? 'bg-[#FF6B00] text-white shadow-lg' : 'text-gray-400 hover:text-white'}`}\r\n                      >\r\n                        JSON\r\n                      </button>\r\n                      <button \r\n                        onClick={() => setPromptMode('text')}\r\n                        className={`px-3 py-1 text-[10px] font-bold rounded-md transition-all ${promptMode === 'text' ? 'bg-[#FF6B00] text-white shadow-lg' : 'text-gray-400 hover:text-white'}`}\r\n                      >\r\n                        Text\r\n                      </button>\r\n                  </div>\r\n               </div>\r\n               \r\n               <div className=\"mb-4\">\r\n                  <p className=\"text-xs text-gray-400 leading-relaxed mb-2\">\r\n                     Generate a professional description in seconds:\r\n                  </p>\r\n                  <ol className=\"text-[10px] text-gray-500 space-y-1 list-decimal list-inside font-mono\">\r\n                     <li>Enter your <span className=\"text-white\">Tool URL</span>.</li>\r\n                     <li>Copy the prompt below to <span className=\"text-white\">ChatGPT</span>.</li>\r\n                     <li>Copy the <b>{promptMode === 'json' ? 'JSON' : 'Text'} response</b>.</li>\r\n                     <li>Click <b>âš¡ Quick Fill</b> and paste it!</li>\r\n                  </ol>\r\n               </div>\r\n\r\n               <div className=\"bg-black/50 p-3 rounded-xl border border-white/5 relative group\">\r\n                  <p className=\"text-[10px] text-gray-400 font-mono italic whitespace-pre-wrap max-h-60 overflow-y-auto pr-8 [&::-webkit-scrollbar]:w-1.5 [&::-webkit-scrollbar-track]:bg-transparent [&::-webkit-scrollbar-thumb]:bg-white/10 [&::-webkit-scrollbar-thumb]:rounded-full hover:[&::-webkit-scrollbar-thumb]:bg-[#FF6B00]/50 transition-colors\">\r\n                     \"{activePrompt}\"\r\n                  </p>\r\n                  <button \r\n                    onClick={() => copyToClipboard(activePrompt)}\r\n                    className=\"absolute top-2 right-2 p-2 rounded-lg bg-[#FF6B00]/10 hover:bg-[#FF6B00]/20 text-[#FF6B00] border border-[#FF6B00]/20 transition-all shadow-lg hover:shadow-[#FF6B00]/10 z-10 group-hover:scale-105\"\r\n                    title=\"Copy Prompt\"\r\n                  >\r\n                     <FaCopy size={14} />\r\n                  </button>\r\n               </div>\r\n               \r\n               <div className=\"mt-3 flex gap-2\">\r\n                  <div className=\"h-1 flex-1 rounded-full bg-gradient-to-r from-blue-500 to-purple-500 opacity-30\"></div>\r\n                  <div className=\"h-1 flex-1 rounded-full bg-gradient-to-r from-purple-500 to-pink-500 opacity-30\"></div>\r\n               </div>\r\n            </motion.div>\r\n\r\n            {/* Extra Tip for Visuals */}\r\n            {currentStep === 3 && (\r\n                <motion.div \r\n                   initial={{ opacity: 0, y: 10 }}\r\n                   animate={{ opacity: 1, y: 0 }}\r\n                   className=\"bg-blue-500/10 backdrop-blur-xl p-6 rounded-3xl border border-blue-500/20 shadow-xl\"\r\n                >\r\n                    <h3 className=\"font-bold text-blue-200 text-sm mb-2\">ðŸ“¸ Image Tip</h3>\r\n                    <p className=\"text-xs text-blue-200/70 leading-relaxed\">\r\n                       Use a clear, high-quality screenshot of your tool's dashboard or landing page. 16:9 aspect ratio works best!\r\n                    </p>\r\n                </motion.div>\r\n            )}\r\n        </div>\r\n      </div>\r\n      {/* QUICK FILL MODAL */}\r\n      <AnimatePresence>\r\n        {showQuickFill && (\r\n            <motion.div \r\n                initial={{ opacity: 0 }} \r\n                animate={{ opacity: 1 }} \r\n                exit={{ opacity: 0 }}\r\n                className=\"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4\"\r\n                onClick={() => setShowQuickFill(false)}\r\n            >\r\n                <div \r\n                    className=\"w-full max-w-lg bg-[#1A1A1A] border border-white/10 rounded-2xl p-6 shadow-2xl relative\"\r\n                    onClick={e => e.stopPropagation()}\r\n                >\r\n                    <h3 className=\"text-xl font-bold text-white mb-4 flex items-center gap-2\">\r\n                        âš¡ Quick Fill\r\n                    </h3>\r\n                    <p className=\"text-xs text-gray-400 mb-4\">\r\n                        Paste JSON or text (e.g., <code>Name: Tool ...</code>) to auto-populate.\r\n                    </p>\r\n                    <textarea \r\n                        autoFocus\r\n                        className=\"w-full h-48 bg-black/50 border border-white/10 rounded-xl p-4 text-sm text-white font-mono placeholder-gray-600 focus:border-[#FF6B00] outline-none resize-none\"\r\n                        placeholder={'{\\n  \"name\": \"My AI Tool\",\\n  \"url\": \"https://...\",\\n  ...\\n}\\n\\nOR\\n\\nName: My AI Tool\\nURL: https://...'}\r\n                        onKeyDown={(e) => {\r\n                             if (e.key === 'Enter' && (e.metaKey || e.ctrlKey)) {\r\n                                 handleQuickFill(e.target.value);\r\n                             }\r\n                        }}\r\n                    />\r\n                    <div className=\"flex justify-end gap-3 mt-4\">\r\n                        <button \r\n                            onClick={() => setShowQuickFill(false)}\r\n                            className=\"px-4 py-2 rounded-lg text-gray-400 hover:text-white hover:bg-white/5 transition-colors\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                        <button \r\n                            onClick={() => {\r\n                                const ta = document.querySelector('textarea'); \r\n                                if(ta) handleQuickFill(ta.value);\r\n                            }}\r\n                            className=\"px-6 py-2 rounded-lg bg-[#FF6B00] hover:bg-[#ff8533] text-white font-bold shadow-lg shadow-orange-500/20\"\r\n                        >\r\n                            Auto-Fill\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AddTool;\r\n// Fixed ESLint errors"],"names":["SearchableSelect","_ref","label","options","value","onChange","placeholder","name","isOpen","setIsOpen","useState","searchTerm","setSearchTerm","dropdownRef","React","useEffect","found","find","opt","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","filteredOptions","filter","toLowerCase","includes","_jsxs","className","ref","children","_jsx","type","e","val","onFocus","autoComplete","onClick","length","map","handleOptionClick","_ref2","historyProp","currentStep","setCurrentStep","direction","setDirection","form","setForm","shortDescription","description","url","category","categoryDisplay","pricing","hashtags","file","setFile","message","setMessage","isSubmitting","setIsSubmitting","categories","setCategories","showQuickFill","setShowQuickFill","promptMode","setPromptMode","localStorage","getItem","async","fetchedCategories","api","get","data","c","id","slug","err","console","error","fetchCategories","handleChange","steps","title","desc","icon","FaLink","FaListUl","FaImage","CustomDropdown","_ref3","dropUp","selectedOption","handleQuickFill","text","cleanUrl","match","jsonToParse","firstBrace","indexOf","lastBrace","lastIndexOf","substring","JSON","parse","prev","lines","split","newForm","updated","forEach","line","key","valParts","join","trim","k","alert","categoryListString","jsonPromptText","textPromptText","activePrompt","src","bgVideo","autoPlay","loop","muted","playsInline","step","isCompleted","isActive","FaCheck","motion","div","initial","opacity","x","animate","onSubmit","preventDefault","snapshotUrl","formData","FormData","append","post","headers","finalCategory","exactMatch","catErr","toolData","tag","_err$response","_err$response$data","response","AnimatePresence","custom","mode","variants","enter","center","zIndex","exit","transition","duration","_Fragment","autoFocus","rows","maxLength","accept","files","prevStep","Math","max","nextStep","min","disabled","delay","FaLightbulb","copyToClipboard","navigator","clipboard","writeText","FaCopy","size","y","stopPropagation","onKeyDown","metaKey","ctrlKey","ta","querySelector"],"sourceRoot":""}