{"version":3,"file":"static/js/616.46e3604b.chunk.js","mappings":"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","sources":["components/Login.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { motion as m, LazyMotion, domAnimation } from 'framer-motion';\r\nimport { FaUser, FaLock, FaEye, FaEyeSlash, FaTimes, FaSpinner, FaPaperPlane } from 'react-icons/fa';\r\nimport { useLoading } from '../contexts/LoadingContext'; // Import the useLoading hook\r\n\r\n// Floating/interactive shapes background component\r\nconst floatingShapesConfig = [\r\n  { x: 100, y: 150, s: 40, c: 'bg-blue-400/40' },\r\n  { x: 350, y: 100, s: 32, c: 'bg-purple-400/40' },\r\n  { x: 220, y: 320, s: 30, c: 'bg-pink-300/30' },\r\n  { x: 390, y: 290, s: 26, c: 'bg-white/20' },\r\n  { x: 80, y: 330, s: 20, c: 'bg-yellow-400/30' },\r\n];\r\n\r\nfunction randomRange(min, max) {\r\n  return Math.random() * (max - min) + min;\r\n}\r\n\r\n// Shapes will float slowly back and forth, and can be dragged\r\nconst FloatingShapes = () => (\r\n  <div className=\"pointer-events-none absolute inset-0 z-0\">\r\n    {floatingShapesConfig.map((shape, i) => (\r\n      <m.div\r\n        key={i}\r\n        drag\r\n        dragMomentum\r\n        dragElastic={0.7}\r\n        whileTap={{ scale: 1.15, boxShadow: '0 0 20px #fff7' }}\r\n        animate={{\r\n          y: [shape.y, shape.y + randomRange(-15, 20), shape.y], // up-down float\r\n          x: [shape.x, shape.x + randomRange(-15, 30), shape.x], // left-right float\r\n        }}\r\n        transition={{\r\n          repeat: Infinity,\r\n          repeatType: \"mirror\",\r\n          ease: \"easeInOut\",\r\n          duration: randomRange(4, 7),\r\n        }}\r\n        style={{\r\n          width: shape.s,\r\n          height: shape.s,\r\n          left: shape.x,\r\n          top: shape.y,\r\n          zIndex: 1,\r\n        }}\r\n        className={`pointer-events-auto absolute rounded-full shadow-lg ${shape.c} cursor-grab backdrop-blur-[2px]`}\r\n      />\r\n    ))}\r\n  </div>\r\n);\r\n\r\nconst Login = () => {\r\n  const [formData, setFormData] = useState({ identifier: '', password: '' });\r\n  const [errors, setErrors] = useState({});\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showResetModal, setShowResetModal] = useState(false);\r\n  const [resetEmail, setResetEmail] = useState('');\r\n  const [resetMessage, setResetMessage] = useState('');\r\n  const [resetError, setResetError] = useState('');\r\n  const history = useHistory();\r\n  const { showLoader, hideLoader } = useLoading(); // Get the loader functions\r\n\r\n  const API_URL = process.env.REACT_APP_API_URL || 'https://ai-tools-hub-backend-u2v6.onrender.com';\r\n  const googleClientId = process.env.REACT_APP_GOOGLE_CLIENT_ID;\r\n\r\n  // Create a ref for the Google button container\r\n  const googleButtonRef = useRef(null);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n    if (errors[name]) setErrors((prev) => ({ ...prev, [name]: '' }));\r\n    if (errors.general) setErrors((prev) => ({...prev, general: ''}));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    const newErrors = {};\r\n    if (!formData.identifier) newErrors.identifier = 'Username or email is required';\r\n    if (!formData.password) {\r\n      newErrors.password = 'Password is required';\r\n    } else if (formData.password.length < 6) {\r\n      newErrors.password = 'Password must be at least 6 characters';\r\n    }\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (!validateForm()) return;\r\n    \r\n    showLoader();\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/auth/login`, formData);\r\n      if (!response.data.user || !response.data.user.username) {\r\n        throw new Error('Username not provided in response');\r\n      }\r\n      localStorage.setItem('token', response.data.token);\r\n      localStorage.setItem('isLoggedIn', 'true');\r\n      localStorage.setItem('userEmail', response.data.user.email);\r\n      localStorage.setItem('username', response.data.user.username);\r\n      localStorage.setItem('isAdmin', response.data.user.role === 'admin' ? 'true' : 'false');\r\n      history.push('/');\r\n      window.location.reload();\r\n    } catch (error) {\r\n      setErrors({\r\n        general:\r\n          error.response?.data?.error ||\r\n          'Login failed. Please check your credentials.',\r\n      });\r\n    } finally {\r\n      setIsLoading(false);\r\n      hideLoader(); // Hide the loader after the request completes\r\n    }\r\n  };\r\n\r\n  const handleResetSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setResetError('');\r\n    setResetMessage('');\r\n    if (!resetEmail || !/\\S+@\\S+\\.\\S+/.test(resetEmail)) {\r\n      setResetError('Please enter a valid email address.');\r\n      return;\r\n    }\r\n    try {\r\n      const response = await axios.post(`${API_URL}/api/auth/forgot-password`, { email: resetEmail });\r\n      setResetMessage(response.data.message);\r\n      setResetEmail('');\r\n    } catch (error) {\r\n      setResetError(error.response?.data?.error || 'Failed to send reset email. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleGoogleSuccess = async (credentialResponse) => {\r\n    setIsLoading(true);\r\n    showLoader();\r\n    try {\r\n        const res = await axios.post(`${API_URL}/api/auth/google-login`, {\r\n            token: credentialResponse.credential,\r\n        });\r\n\r\n        localStorage.setItem(\"token\", res.data.token);\r\n        localStorage.setItem('username', res.data.user.username);\r\n        localStorage.setItem('isLoggedIn', 'true');\r\n        localStorage.setItem('userEmail', res.data.user.email);\r\n        localStorage.setItem('isAdmin', res.data.user.role === 'admin' ? 'true' : 'false');\r\n        history.push('/');\r\n        window.location.reload();\r\n\r\n    } catch (err) {\r\n        console.error(\"Google login failed:\", err);\r\n        setErrors({\r\n            general: err.response?.data?.error || 'Google login failed. Please try again.',\r\n        });\r\n    } finally {\r\n        setIsLoading(false);\r\n        hideLoader();\r\n    }\r\n  };\r\n  \r\n  const handleGoogleError = () => {\r\n      console.log(\"âŒ Google Login Failed\");\r\n      setErrors({ general: 'Google login failed. Please try again.' });\r\n  };\r\n  \r\n  useEffect(() => {\r\n    if (!googleClientId) {\r\n      console.error(\"Google Client ID is missing. Please set REACT_APP_GOOGLE_CLIENT_ID in your .env file.\");\r\n      return;\r\n    }\r\n\r\n    if (window.google && window.google.accounts) {\r\n        window.google.accounts.id.initialize({\r\n            client_id: googleClientId,\r\n            callback: handleGoogleSuccess\r\n        });\r\n        window.google.accounts.id.renderButton(\r\n            googleButtonRef.current,\r\n            { theme: \"filled_black\", shape: \"pill\", width: \"300\" } \r\n        );\r\n    } else {\r\n        const script = document.createElement(\"script\");\r\n        script.src = \"https://accounts.google.com/gsi/client\";\r\n        script.async = true;\r\n        script.defer = true;\r\n        script.onload = () => {\r\n            if (window.google && googleButtonRef.current) {\r\n                window.google.accounts.id.initialize({\r\n                    client_id: googleClientId,\r\n                    callback: handleGoogleSuccess\r\n                });\r\n                window.google.accounts.id.renderButton(\r\n                    googleButtonRef.current,\r\n                    { theme: \"filled_black\", shape: \"pill\", width: \"300\" } \r\n                );\r\n            }\r\n        };\r\n        script.onerror = handleGoogleError;\r\n        document.body.appendChild(script);\r\n\r\n        return () => {\r\n            document.body.removeChild(script);\r\n        };\r\n    }\r\n  }, [googleClientId]);\r\n\r\n  return (\r\n    <LazyMotion features={domAnimation}>\r\n      <div className=\"relative min-h-screen overflow-hidden bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 text-white flex items-center justify-center p-4\">\r\n        {/* --- Static gradients/background SVGs --- */}\r\n        <div className=\"fixed inset-0 z-0 pointer-events-none\">\r\n          <div className=\"absolute inset-0 bg-gradient-to-br from-blue-900/20 via-purple-900/20 to-pink-900/20\" />\r\n          <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_50%_50%,rgba(120,119,198,0.1),transparent_50%)]\" />\r\n          <div className=\"absolute top-0 left-0 w-full h-full bg-[url('data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.02'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-30\" />\r\n        </div>\r\n        {/* --- Interactive/Floating shapes --- */}\r\n        <FloatingShapes />\r\n\r\n        <m.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.6, ease: 'easeInOut' }}\r\n          className=\"relative z-10 w-full max-w-md\"\r\n        >\r\n          <div className=\"absolute inset-0 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-3xl blur-xl\" />\r\n          <div className=\"relative bg-black/40 backdrop-blur-2xl border border-white/10 rounded-2xl shadow-2xl p-8\">\r\n            <div className=\"text-center mb-8\">\r\n              <h1 className=\"text-4xl font-extrabold mb-2 bg-gradient-to-r from-blue-400 via-purple-500 to-pink-500 bg-clip-text text-transparent\">\r\n                AI Tools Hub\r\n              </h1>\r\n              <h2 className=\"text-2xl font-bold text-white\">Welcome Back</h2>\r\n              <p className=\"text-gray-400 text-sm mt-2\">Sign in to unlock your potential</p>\r\n            </div>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {errors.general && (\r\n                <div className=\"bg-red-500/20 border border-red-500/50 text-red-300 px-4 py-3 rounded-lg text-sm\">\r\n                  {errors.general}\r\n                </div>\r\n              )}\r\n              <div>\r\n                <label htmlFor=\"identifier\" className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n                  Username or Email\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <FaUser className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"identifier\"\r\n                    name=\"identifier\"\r\n                    value={formData.identifier}\r\n                    onChange={handleChange}\r\n                    className={`w-full pl-12 pr-4 py-3 border rounded-lg text-base text-gray-100 bg-white/5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-colors ${\r\n                      errors.identifier ? 'border-red-500/50' : 'border-white/10'\r\n                    }`}\r\n                    placeholder=\"e.g., ai_explorer\"\r\n                  />\r\n                </div>\r\n                {errors.identifier && <p className=\"text-red-400 text-xs mt-1\">{errors.identifier}</p>}\r\n              </div>\r\n\r\n              <div>\r\n                <label htmlFor=\"password\" className=\"block text-sm font-semibold text-gray-300 mb-2\">\r\n                  Password\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <FaLock className=\"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500\" />\r\n                  <input\r\n                    type={showPassword ? 'text' : 'password'}\r\n                    id=\"password\"\r\n                    name=\"password\"\r\n                    value={formData.password}\r\n                    onChange={handleChange}\r\n                    className={`w-full pl-12 pr-12 py-3 border rounded-lg text-base text-gray-100 bg-white/5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-colors ${\r\n                      errors.password ? 'border-red-500/50' : 'border-white/10'\r\n                    }`}\r\n                    placeholder=\"Enter your password\"\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setShowPassword(!showPassword)}\r\n                    className=\"absolute inset-y-0 right-0 px-4 flex items-center text-gray-500 hover:text-white\"\r\n                  >\r\n                    {showPassword ? <FaEye /> : <FaEyeSlash />}\r\n                  </button>\r\n                </div>\r\n                {errors.password && <p className=\"text-red-400 text-xs mt-1\">{errors.password}</p>}\r\n              </div>\r\n\r\n              <div className=\"flex items-center justify-between\">\r\n                <label className=\"flex items-center text-sm text-gray-300\">\r\n                  <input type=\"checkbox\" className=\"h-4 w-4 text-blue-500 border-gray-600 rounded bg-gray-700 focus:ring-blue-500 mr-2\" />\r\n                  Remember me\r\n                </label>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowResetModal(true)}\r\n                  className=\"text-sm font-semibold text-blue-400 hover:text-purple-400 transition-colors\"\r\n                >\r\n                  Forgot password?\r\n                </button>\r\n              </div>\r\n\r\n              <m.button\r\n                type=\"submit\"\r\n                disabled={isLoading}\r\n                whileHover={{ scale: 1.03 }}\r\n                whileTap={{ scale: 0.98 }}\r\n                className=\"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:shadow-lg hover:shadow-blue-500/30 text-white font-bold py-3 rounded-lg text-base transition-all duration-300 disabled:from-blue-500/50 disabled:to-purple-500/50 disabled:shadow-none\"\r\n              >\r\n                {isLoading ? (\r\n                  <div className=\"flex items-center justify-center\">\r\n                    <FaSpinner className=\"animate-spin mr-2\" />\r\n                    Signing in...\r\n                  </div>\r\n                ) : (\r\n                  'Sign In'\r\n                )}\r\n              </m.button>\r\n            </form>\r\n            \r\n            <div className=\"relative flex items-center my-6\">\r\n                <div className=\"flex-grow border-t border-white/20\"></div>\r\n                <span className=\"flex-shrink mx-4 text-gray-400 text-xs\">OR</span>\r\n                <div className=\"flex-grow border-t border-white/20\"></div>\r\n            </div>\r\n\r\n            {/* This div is the target for the Google button */}\r\n            <div className=\"flex justify-center\" ref={googleButtonRef}></div>\r\n\r\n            <div className=\"mt-6 text-center\">\r\n              <p className=\"text-sm text-gray-400\">\r\n                Don't have an account?{' '}\r\n                <Link to=\"/signup\" className=\"text-blue-400 hover:text-purple-400 font-semibold transition-colors\">\r\n                  Sign up here\r\n                </Link>\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </m.div>\r\n\r\n        {showResetModal && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 backdrop-blur-sm\">\r\n            <m.div\r\n              initial={{ opacity: 0, scale: 0.9 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className=\"relative w-full max-w-sm bg-gray-900/80 backdrop-blur-lg border border-white/10 rounded-2xl p-6 space-y-4 shadow-2xl\"\r\n            >\r\n              <div className=\"flex justify-between items-center\">\r\n                <h3 className=\"text-lg font-bold text-white\">Reset Password</h3>\r\n                <button onClick={() => setShowResetModal(false)} className=\"text-gray-500 hover:text-white\">\r\n                  <FaTimes />\r\n                </button>\r\n              </div>\r\n\r\n              <form onSubmit={handleResetSubmit} className=\"space-y-4\">\r\n                {resetMessage && <p className=\"text-green-400 text-sm\">{resetMessage}</p>}\r\n                {resetError && <p className=\"text-red-400 text-sm\">{resetError}</p>}\r\n                <div>\r\n                  <label htmlFor=\"reset-email\" className=\"block text-sm font-medium text-gray-300 mb-1\">\r\n                    Enter your account email\r\n                  </label>\r\n                  <input\r\n                    id=\"reset-email\"\r\n                    type=\"email\"\r\n                    value={resetEmail}\r\n                    onChange={(e) => setResetEmail(e.target.value)}\r\n                    className=\"w-full px-3 py-2 text-sm border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 border-white/20 bg-white/5 text-gray-100 placeholder-gray-500\"\r\n                    placeholder=\"you@example.com\"\r\n                  />\r\n                </div>\r\n                <m.button\r\n                  type=\"submit\"\r\n                  whileHover={{ scale: 1.05 }}\r\n                  whileTap={{ scale: 0.95 }}\r\n                  className=\"w-full flex items-center justify-center gap-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white text-sm font-semibold py-2.5 rounded-lg hover:shadow-md hover:shadow-blue-500/20 transition-shadow\"\r\n                >\r\n                  Send Reset Link <FaPaperPlane />\r\n                </m.button>\r\n              </form>\r\n            </m.div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </LazyMotion>\r\n  );\r\n};\r\n\r\nexport default Login;"],"names":["floatingShapesConfig","x","y","s","c","randomRange","min","max","Math","random","FloatingShapes","_jsx","className","children","map","shape","i","m","div","drag","dragMomentum","dragElastic","whileTap","scale","boxShadow","animate","transition","repeat","Infinity","repeatType","ease","duration","style","width","height","left","top","zIndex","Login","formData","setFormData","useState","identifier","password","errors","setErrors","isLoading","setIsLoading","showPassword","setShowPassword","showResetModal","setShowResetModal","resetEmail","setResetEmail","resetMessage","setResetMessage","resetError","setResetError","history","useHistory","showLoader","hideLoader","useLoading","API_URL","process","googleClientId","googleButtonRef","useRef","handleChange","e","name","value","target","prev","general","handleGoogleSuccess","async","res","axios","post","token","credentialResponse","credential","localStorage","setItem","data","user","username","email","role","push","window","location","reload","err","_err$response","_err$response$data","console","error","response","handleGoogleError","log","useEffect","google","accounts","script","document","createElement","src","defer","onload","current","id","initialize","client_id","callback","renderButton","theme","onerror","body","appendChild","removeChild","LazyMotion","features","domAnimation","_jsxs","initial","opacity","onSubmit","preventDefault","validateForm","newErrors","length","Object","keys","Error","_error$response","_error$response$data","htmlFor","FaUser","type","onChange","placeholder","FaLock","onClick","FaEye","FaEyeSlash","button","disabled","whileHover","FaSpinner","ref","Link","to","FaTimes","test","message","_error$response2","_error$response2$data","FaPaperPlane"],"sourceRoot":""}