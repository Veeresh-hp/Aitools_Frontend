{"version":3,"file":"static/js/834.b19b860d.chunk.js","mappings":"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","sources":["components/ToolDetailModal.jsx","components/MobileCategoryTabs.jsx","components/MobileTopNav.jsx","components/MobileSortMenu.jsx","components/ChatBot.jsx","components/PricingDropdown.jsx","components/UnifiedSortDropdown.jsx","components/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { m, AnimatePresence } from 'framer-motion';\r\nimport { FaExternalLinkAlt, FaBookmark, FaRegBookmark, FaTimes, FaStar, FaChartLine, FaDollarSign, FaTag, FaUsers, FaGlobe, FaLink, FaCopy, FaCheck } from 'react-icons/fa';\r\nimport { addRefToUrl } from '../utils/linkUtils';\r\n\r\nconst ToolDetailModal = ({ tool, onClose }) => {\r\n  const getToolKey = () => (tool && (tool.url || tool.name || tool.id)) || null;\r\n  const [saved, setSaved] = useState(false);\r\n  const [saveCount, setSaveCount] = useState(0);\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!tool) return;\r\n    try {\r\n      const raw = localStorage.getItem('ai_bookmarks');\r\n      const arr = raw ? JSON.parse(raw) : [];\r\n      const key = getToolKey();\r\n      setSaved(arr.includes(key));\r\n      setSaveCount(arr.includes(key) ? 1 : 0);\r\n    } catch (err) {\r\n      // ignore\r\n    }\r\n  }, [tool]);\r\n\r\n  useEffect(() => {\r\n    const onKey = (e) => {\r\n      if (e.key === 'Escape') onClose && onClose();\r\n    };\r\n    window.addEventListener('keydown', onKey);\r\n    return () => window.removeEventListener('keydown', onKey);\r\n  }, [onClose]);\r\n\r\n  // Lock body scroll when modal is open\r\n  useEffect(() => {\r\n    if (tool) {\r\n      document.body.style.overflow = 'hidden';\r\n    }\r\n    return () => {\r\n      document.body.style.overflow = 'unset';\r\n    };\r\n  }, [tool]);\r\n\r\n  const toggleBookmark = (e) => {\r\n    e && e.stopPropagation();\r\n    try {\r\n      const key = getToolKey();\r\n      const raw = localStorage.getItem('ai_bookmarks');\r\n      let arr = raw ? JSON.parse(raw) : [];\r\n      if (arr.includes(key)) {\r\n        arr = arr.filter(x => x !== key);\r\n        setSaved(false);\r\n      } else {\r\n        arr.push(key);\r\n        setSaved(true);\r\n      }\r\n      localStorage.setItem('ai_bookmarks', JSON.stringify(arr));\r\n      setSaveCount(arr.includes(key) ? 1 : 0);\r\n    } catch (err) {\r\n      console.error('bookmark error', err);\r\n    }\r\n  };\r\n\r\n  const copyToClipboard = () => {\r\n    if (tool.url || tool.link) {\r\n      navigator.clipboard.writeText(tool.url || tool.link);\r\n      setCopied(true);\r\n      setTimeout(() => setCopied(false), 2000);\r\n    }\r\n  };\r\n\r\n  console.log(' ToolDetailModal rendering, tool:', tool);\r\n\r\n  if (!tool) {\r\n    console.log(' Tool is null, not rendering modal');\r\n    return null;\r\n  }\r\n\r\n  console.log(' Rendering modal for tool:', tool.name);\r\n\r\n  // Extract or generate metadata\r\n  const pricing = tool.pricing || 'Free';\r\n  const category = tool.category ? tool.category.split('-').map(w => w.charAt(0).toUpperCase() + w.slice(1)).join(' ') : 'General';\r\n  const tags = tool.tags || ['AI Tool', 'Productivity'];\r\n  const rating = tool.rating || 4.5;\r\n  const users = tool.users || '10K+';\r\n\r\n  return ReactDOM.createPortal(\r\n    <div\r\n      className=\"fixed inset-0 flex items-center justify-center px-4 bg-black/90 backdrop-blur-md overflow-y-auto py-8 scrollbar-hide\"\r\n      style={{ zIndex: 99999 }}\r\n      onClick={onClose}\r\n    >\r\n      <div className=\"relative max-w-5xl w-full\">\r\n        {/* Glow effect */}\r\n        <div className=\"absolute -inset-1 bg-gradient-to-r from-purple-600 via-pink-600 to-blue-600 rounded-3xl blur-xl opacity-30\" />\r\n\r\n        {/* Modal content */}\r\n        <div\r\n          onClick={(e) => e.stopPropagation()}\r\n          className=\"relative bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 rounded-3xl shadow-2xl border border-purple-500/30 overflow-hidden max-h-[90vh] overflow-y-auto scrollbar-hide\"\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          style={{\r\n            scrollbarWidth: 'none', /* Firefox */\r\n            msOverflowStyle: 'none', /* IE and Edge */\r\n          }}\r\n        >\r\n          {/* Close Button */}\r\n          <button\r\n            onClick={onClose}\r\n            aria-label=\"Close\"\r\n            className=\"absolute top-6 right-6 z-10 p-3 rounded-full bg-gray-800/90 backdrop-blur-md text-white hover:bg-red-600 hover:rotate-90 transition-all duration-300 border border-gray-700 hover:border-red-500 shadow-lg\"\r\n          >\r\n            <FaTimes className=\"w-5 h-5\" />\r\n          </button>\r\n\r\n          {/* Hero Section with Image */}\r\n          <div className=\"relative h-72 bg-gradient-to-br from-purple-600 via-blue-600 to-cyan-600 overflow-hidden\">\r\n            {/* Animated gradient overlay */}\r\n            <div className=\"absolute inset-0 bg-gradient-to-r from-purple-500/20 via-pink-500/20 to-blue-500/20 animate-gradient-x\" />\r\n\r\n            {tool.image ? (\r\n              <img\r\n                src={tool.image}\r\n                alt={tool.name}\r\n                className=\"w-full h-full object-cover opacity-90\"\r\n                onError={(e) => {\r\n                  e.target.style.display = 'none';\r\n                  e.target.parentElement.classList.add('flex', 'items-center', 'justify-center');\r\n                  e.target.parentElement.innerHTML = `<div class=\"text-6xl text-white/50\">${tool.name.charAt(0)}</div>`;\r\n                }}\r\n              />\r\n            ) : (\r\n              <div className=\"w-full h-full flex items-center justify-center\">\r\n                <div className=\"text-8xl text-white/30 font-bold\">{tool.name.charAt(0)}</div>\r\n              </div>\r\n            )}\r\n            <div className=\"absolute inset-0 bg-gradient-to-t from-gray-900 via-transparent to-transparent\" />\r\n\r\n            {/* Tool Name Overlay */}\r\n            <div className=\"absolute bottom-6 left-6 right-6\">\r\n              <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                  <h2 className=\"text-4xl font-bold text-white mb-2 drop-shadow-lg\">{tool.name}</h2>\r\n                  <div className=\"flex items-center gap-3\">\r\n                    {tool.badge && (\r\n                      <span className=\"px-3 py-1 rounded-full bg-yellow-500 text-black text-xs font-bold\">\r\n                        {tool.badge}\r\n                      </span>\r\n                    )}\r\n                    {tool.isNew && (\r\n                      <span className=\"px-3 py-1 rounded-full bg-green-500 text-white text-xs font-bold animate-pulse\">\r\n                         NEW\r\n                      </span>\r\n                    )}\r\n                    <span className=\"px-3 py-1 rounded-full bg-white/20 backdrop-blur-md text-white text-xs font-semibold\">\r\n                      {category}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={toggleBookmark}\r\n                  className={`p-3 rounded-full backdrop-blur-md transition-all ${saved\r\n                      ? 'bg-yellow-500 text-white shadow-lg shadow-yellow-500/50'\r\n                      : 'bg-white/20 text-white hover:bg-white/30'\r\n                    }`}\r\n                >\r\n                  {saved ? <FaBookmark className=\"w-5 h-5\" /> : <FaRegBookmark className=\"w-5 h-5\" />}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Content Section */}\r\n          <div className=\"p-8\">\r\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n              {/* Left Column - Main Content */}\r\n              <div className=\"lg:col-span-2 space-y-6\">\r\n                {/* Description */}\r\n                <div>\r\n                  <h3 className=\"text-xl font-bold text-white mb-3 flex items-center gap-2\">\r\n                    <span className=\"w-1 h-6 bg-gradient-to-b from-purple-500 to-blue-500 rounded-full\" />\r\n                    About {tool.name}\r\n                  </h3>\r\n                  <p className=\"text-gray-300 leading-relaxed text-lg\">\r\n                    {tool.description}\r\n                  </p>\r\n                </div>\r\n\r\n                {/* Key Features */}\r\n                <div className=\"bg-gradient-to-br from-purple-500/10 to-blue-500/10 rounded-2xl p-6 border border-purple-500/20\">\r\n                  <h4 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\r\n                    <FaStar className=\"text-yellow-500\" />\r\n                    Key Features\r\n                  </h4>\r\n                  <ul className=\"space-y-3\">\r\n                    {(tool.features || [\r\n                      'AI-powered capabilities',\r\n                      'User-friendly interface',\r\n                      'Fast processing speed',\r\n                      'Reliable and secure'\r\n                    ]).map((feature, i) => (\r\n                      <li key={i} className=\"flex items-start gap-3 text-gray-300\">\r\n                        <span className=\"text-green-500 mt-1\"></span>\r\n                        <span>{feature}</span>\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                </div>\r\n\r\n                {/* Use Cases */}\r\n                <div className=\"bg-gradient-to-br from-cyan-500/10 to-blue-500/10 rounded-2xl p-6 border border-cyan-500/20\">\r\n                  <h4 className=\"text-lg font-bold text-white mb-4 flex items-center gap-2\">\r\n                    <FaChartLine className=\"text-cyan-500\" />\r\n                    Use Cases\r\n                  </h4>\r\n                  <div className=\"flex flex-wrap gap-3\">\r\n                    {(tool.useCases || [\r\n                      'Content Creation',\r\n                      'Business Automation',\r\n                      'Creative Projects',\r\n                      'Professional Use'\r\n                    ]).map((useCase, i) => (\r\n                      <span\r\n                        key={i}\r\n                        className=\"px-4 py-2 rounded-lg bg-cyan-500/20 text-cyan-300 text-sm font-medium border border-cyan-500/30\"\r\n                      >\r\n                        {useCase}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Right Column - Sidebar Info */}\r\n              <div className=\"space-y-4\">\r\n                {/* Quick Stats */}\r\n                <div className=\"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 border border-white/10\">\r\n                  <h4 className=\"text-white font-bold mb-4\">Quick Info</h4>\r\n                  <div className=\"space-y-4\">\r\n                    {/* Pricing */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-2 text-gray-400\">\r\n                        <FaDollarSign className=\"text-green-500\" />\r\n                        <span>Pricing</span>\r\n                      </div>\r\n                      <span className=\"text-white font-semibold px-3 py-1 rounded-lg bg-green-500/20 text-green-400\">\r\n                        {pricing}\r\n                      </span>\r\n                    </div>\r\n\r\n                    {/* Rating */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-2 text-gray-400\">\r\n                        <FaStar className=\"text-yellow-500\" />\r\n                        <span>Rating</span>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-1 text-yellow-500 font-semibold\">\r\n                        {rating} <FaStar className=\"w-3 h-3\" />\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Users */}\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex items-center gap-2 text-gray-400\">\r\n                        <FaUsers className=\"text-blue-500\" />\r\n                        <span>Users</span>\r\n                      </div>\r\n                      <span className=\"text-white font-semibold\">{users}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Tags */}\r\n                <div className=\"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 border border-white/10\">\r\n                  <h4 className=\"text-white font-bold mb-4 flex items-center gap-2\">\r\n                    <FaTag className=\"text-pink-500\" />\r\n                    Tags\r\n                  </h4>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {tags.map((tag, i) => (\r\n                      <span\r\n                        key={i}\r\n                        className=\"px-3 py-1 rounded-full bg-pink-500/20 text-pink-300 text-sm border border-pink-500/30\"\r\n                      >\r\n                        #{tag}\r\n                      </span>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Related Tools */}\r\n                <div className=\"bg-gradient-to-br from-gray-800 to-gray-900 rounded-2xl p-6 border border-white/10\">\r\n                  <h4 className=\"text-white font-bold mb-4\">Related Tools</h4>\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <a href=\"#\" className=\"block text-purple-400 hover:text-purple-300 transition-colors\">\r\n                       Similar Tool 1\r\n                    </a>\r\n                    <a href=\"#\" className=\"block text-purple-400 hover:text-purple-300 transition-colors\">\r\n                       Similar Tool 2\r\n                    </a>\r\n                    <a href=\"#\" className=\"block text-purple-400 hover:text-purple-300 transition-colors\">\r\n                       Similar Tool 3\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Action Buttons */}\r\n            <div className=\"mt-8 flex flex-wrap items-center gap-4\">\r\n              <a\r\n                href={addRefToUrl(tool.url || tool.link)}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"flex-1 min-w-[200px] flex items-center justify-center gap-2 px-6 py-4 bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white rounded-xl font-bold text-lg shadow-lg shadow-purple-500/50 transition-all hover:scale-105\"\r\n              >\r\n                <FaExternalLinkAlt />\r\n                Visit {tool.name}\r\n              </a>\r\n\r\n              <button\r\n                onClick={copyToClipboard}\r\n                className=\"px-6 py-4 bg-white/10 hover:bg-white/20 backdrop-blur-md text-white rounded-xl font-semibold border border-white/20 transition-all flex items-center gap-2\"\r\n              >\r\n                {copied ? <FaCheck className=\"text-green-500\" /> : <FaCopy />}\r\n                {copied ? 'Copied!' : 'Copy Link'}\r\n              </button>\r\n\r\n              <button\r\n                onClick={toggleBookmark}\r\n                className={`px-6 py-4 rounded-xl font-semibold transition-all flex items-center gap-2 ${saved\r\n                    ? 'bg-yellow-500 hover:bg-yellow-600 text-black'\r\n                    : 'bg-white/10 hover:bg-white/20 text-white border border-white/20'\r\n                  }`}\r\n              >\r\n                {saved ? <FaBookmark /> : <FaRegBookmark />}\r\n                {saved ? 'Saved' : 'Save'}\r\n              </button>\r\n            </div>\r\n          </div>\r\n          {/* Close Modal content div */}\r\n        </div>\r\n        {/* Close wrapper div */}\r\n      </div>\r\n      {/* Close outer div */}\r\n    </div>,\r\n    document.body\r\n  );\r\n};\r\n\r\nexport default ToolDetailModal;\r\n","import React, { useRef, useEffect, useState } from 'react';\r\n\r\n// Mobile sticky category tabs - simple, clean design\r\nexport default function MobileCategoryTabs({ categories = [], activeId = 'all', onSelect = () => {} }) {\r\n  const listRef = useRef(null);\r\n  const activeRef = useRef(null);\r\n\r\n  // Auto-scroll active tab into view\r\n  useEffect(() => {\r\n    const el = activeRef.current;\r\n    const list = listRef.current;\r\n    if (!el || !list) return;\r\n    const elRect = el.getBoundingClientRect();\r\n    const listRect = list.getBoundingClientRect();\r\n    if (elRect.left < listRect.left || elRect.right > listRect.right) {\r\n      el.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });\r\n    }\r\n  }, [activeId]);\r\n\r\n  if (!categories || categories.length === 0) return null;\r\n\r\n  return (\r\n    <div \r\n      className=\"md:hidden block w-full sticky z-40 backdrop-blur-md bg-black border-b border-white/5\" \r\n      style={{ top: '64px' }}\r\n    >\r\n      <nav\r\n        id=\"mobile-category-tabs\"\r\n        role=\"tablist\"\r\n        aria-label=\"Browse categories\"\r\n      >\r\n        <div className=\"px-3 py-2 overflow-x-auto scrollbar-hide\" style={{ WebkitOverflowScrolling: 'touch' }}>\r\n          <div\r\n            ref={listRef}\r\n            className=\"flex items-center gap-2\"\r\n            style={{ scrollBehavior: 'smooth' }}\r\n          >\r\n            {categories.map((c) => {\r\n              const isActive = c.id === activeId;\r\n              return (\r\n                <button\r\n                  key={c.id}\r\n                  ref={isActive ? activeRef : null}\r\n                  role=\"tab\"\r\n                  aria-selected={isActive}\r\n                  onClick={() => onSelect(c.id)}\r\n                  className={`flex-shrink-0 px-4 py-2.5 rounded-xl text-sm font-semibold whitespace-nowrap transition-all duration-200 border ${\r\n                    isActive\r\n                      ? 'bg-[#FF6B00] text-white border-orange-500 shadow-lg shadow-orange-500/20'\r\n                      : 'bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:text-white'\r\n                  }`}\r\n                  style={{ WebkitTapHighlightColor: 'transparent' }}\r\n                >\r\n                  {c.label}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n        {/* Fade Indicator */}\r\n        <div className=\"absolute inset-y-0 right-0 w-8 bg-gradient-to-l from-[#0a0e27] to-transparent pointer-events-none\" />\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { motion as m, AnimatePresence } from 'framer-motion';\r\nimport Logo from '../assets/logo.png';\r\n\r\nimport { FaStar, FaSearch, FaArrowLeft, FaTimes } from 'react-icons/fa';\r\n\r\nexport default function MobileTopNav({ \r\n    categories = [], \r\n    onCategorySelect = () => { }, \r\n    onChoiceClick = () => { }, \r\n    onLogoClick = () => { },\r\n    searchQuery = '',\r\n    onSearchChange = () => {} \r\n}) {\r\n  const [dropdownOpen, setDropdownOpen] = useState(false);\r\n  const [isSearchOpen, setIsSearchOpen] = useState(false);\r\n  const dropdownRef = useRef(null);\r\n  const searchInputRef = useRef(null);\r\n\r\n  // Close dropdown on outside click\r\n  useEffect(() => {\r\n    const handleClickOutside = (e) => {\r\n      if (dropdownRef.current && !dropdownRef.current.contains(e.target)) {\r\n        setDropdownOpen(false);\r\n      }\r\n    };\r\n    if (dropdownOpen) {\r\n      document.addEventListener('mousedown', handleClickOutside);\r\n      return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }\r\n  }, [dropdownOpen]);\r\n\r\n  // Focus search input when opening\r\n  useEffect(() => {\r\n    if (isSearchOpen && searchInputRef.current) {\r\n        setTimeout(() => searchInputRef.current.focus(), 100);\r\n    }\r\n  }, [isSearchOpen]);\r\n\r\n  const handleCategorySelect = (id) => {\r\n    onCategorySelect(id);\r\n    setDropdownOpen(false);\r\n  };\r\n\r\n  return (\r\n    <header className=\"md:hidden fixed top-0 left-0 right-0 z-[1000] bg-black/95 backdrop-blur-xl border-b border-white/10 shadow-lg transition-all duration-300\">\r\n      {/* Navbar Container */}\r\n      <div className=\"flex items-center justify-between px-4 py-3 h-16 relative\">\r\n        \r\n        <AnimatePresence mode=\"wait\">\r\n            {isSearchOpen ? (\r\n                /* Search Bar Mode */\r\n                <m.div \r\n                    key=\"search-bar\"\r\n                    initial={{ opacity: 0, x: 20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    exit={{ opacity: 0, x: 20 }}\r\n                    transition={{ duration: 0.2 }}\r\n                    className=\"absolute inset-0 flex items-center px-4 gap-3 bg-black/95\"\r\n                >\r\n                    <button \r\n                        onClick={() => {\r\n                            setIsSearchOpen(false);\r\n                            onSearchChange({ target: { value: '' } }); // Optional: clear search on close? Maybe not.\r\n                        }}\r\n                        className=\"p-2 -ml-2 text-gray-400 hover:text-white\"\r\n                    >\r\n                        <FaArrowLeft />\r\n                    </button>\r\n                    <form \r\n                        className=\"flex-1 relative\"\r\n                        onSubmit={(e) => {\r\n                            e.preventDefault();\r\n                            if (searchInputRef.current) searchInputRef.current.blur();\r\n                        }}\r\n                    >\r\n                        <FaSearch className=\"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500 text-sm\" />\r\n                        <input\r\n                            ref={searchInputRef}\r\n                            type=\"text\"\r\n                            enterKeyHint=\"search\"\r\n                            value={searchQuery}\r\n                            onChange={onSearchChange}\r\n                            placeholder=\"Search tools...\"\r\n                            className=\"w-full bg-white/10 border border-white/10 rounded-xl pl-9 pr-8 py-2 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-[#FF6B00]/50\"\r\n                        />\r\n                        {searchQuery && (\r\n                            <button \r\n                                type=\"button\"\r\n                                onClick={() => onSearchChange({ target: { value: '' } })}\r\n                                className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500\"\r\n                            >\r\n                                <FaTimes className=\"text-xs\" />\r\n                            </button>\r\n                        )}\r\n                    </form>\r\n                </m.div>\r\n            ) : (\r\n                /* Standard Mode */\r\n                <m.div \r\n                    key=\"standard-nav\"\r\n                    initial={{ opacity: 0, x: -20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    exit={{ opacity: 0, x: -20 }}\r\n                    transition={{ duration: 0.2 }}\r\n                    className=\"flex items-center justify-between w-full\"\r\n                >\r\n                    {/* Left: Logo */}\r\n                    <button onClick={onLogoClick} className=\"flex items-center gap-2 flex-shrink-0 group\">\r\n                    <img\r\n                        src={Logo}\r\n                        alt=\"AI Tools Hub\"\r\n                        className=\"w-10 h-10 rounded-lg group-hover:scale-105 transition-transform duration-200\"\r\n                    />\r\n                    <span className=\"text-base font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent\">\r\n                        AI Tools\r\n                    </span>\r\n                    </button>\r\n\r\n                    {/* Right: Actions */}\r\n                    <div className=\"flex items-center gap-2\">\r\n                        {/* Search Trigger */}\r\n                        <button\r\n                            onClick={() => setIsSearchOpen(true)}\r\n                            className=\"p-2.5 rounded-lg text-gray-300 hover:text-white hover:bg-white/10 transition-colors\"\r\n                        >\r\n                            <FaSearch />\r\n                        </button>\r\n\r\n                        {/* Categories Dropdown */}\r\n                        <div className=\"relative\" ref={dropdownRef}>\r\n                            <m.button\r\n                            onClick={() => setDropdownOpen(!dropdownOpen)}\r\n                            whileHover={{ scale: 1.02 }}\r\n                            whileTap={{ scale: 0.98 }}\r\n                            className=\"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-semibold text-white bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-200\"\r\n                            >\r\n                            <span>Categories</span>\r\n                            <m.span\r\n                                animate={{ rotate: dropdownOpen ? 180 : 0 }}\r\n                                transition={{ duration: 0.2 }}\r\n                            >\r\n                                \r\n                            </m.span>\r\n                            </m.button>\r\n\r\n                            {/* Dropdown Menu */}\r\n                            {dropdownOpen && (\r\n                            <m.div\r\n                                initial={{ opacity: 0, y: -8 }}\r\n                                animate={{ opacity: 1, y: 0 }}\r\n                                exit={{ opacity: 0, y: -8 }}\r\n                                transition={{ duration: 0.15 }}\r\n                                className=\"absolute top-full mt-2 -right-2 w-64 bg-[#0F0F0F] backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 overflow-hidden z-[2000] p-2\"\r\n                            >\r\n                                <div className=\"max-h-[60vh] overflow-y-auto scrollbar-hide space-y-1\">\r\n                                {categories.map((cat) => (\r\n                                    <button\r\n                                    key={cat.id}\r\n                                    onClick={() => handleCategorySelect(cat.id)}\r\n                                    className=\"w-full text-left px-4 py-3 text-sm font-medium text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition-all duration-200\"\r\n                                    >\r\n                                    {cat.label}\r\n                                    </button>\r\n                                ))}\r\n                                </div>\r\n                            </m.div>\r\n                            )}\r\n                        </div>\r\n\r\n                        {/* AI Picks Button - Hidden on very small screens if needed, but keeping for now */}\r\n                        <m.button\r\n                            onClick={onChoiceClick}\r\n                            whileHover={{ scale: 1.02 }}\r\n                            whileTap={{ scale: 0.98 }}\r\n                            className=\"flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-semibold text-white bg-[#FF6B00] border border-orange-500/30 hover:bg-[#ff8533] hover:border-orange-400/50 transition-all duration-200 shadow-lg shadow-orange-500/20\"\r\n                        >\r\n                            <FaStar className=\"text-yellow-400 animate-pulse text-xs\" />\r\n                            {/* Shorten label or hide text on small screens if needed */}\r\n                            <span className=\"hidden sm:inline\">Picks</span>\r\n                            <span className=\"sm:hidden\">Top</span>\r\n                        </m.button>\r\n                    </div>\r\n                </m.div>\r\n            )}\r\n        </AnimatePresence>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { motion as m, AnimatePresence } from 'framer-motion';\r\n\r\n// --- Mobile Combined Sort & Pricing Menu ---\r\nconst MobileSortMenu = ({ activePricing, setActivePricing, sortOrder, setSortOrder }) => {\r\n    const [open, setOpen] = useState(false);\r\n    const ref = useRef(null);\r\n\r\n    // Unified option list: first pricing filters then sort options\r\n    const options = [\r\n        { type: 'pricing', value: 'free', label: 'Free' },\r\n        { type: 'pricing', value: 'freemium', label: 'Freemium' },\r\n        { type: 'pricing', value: 'open-source', label: 'Open Source' },\r\n        { type: 'pricing', value: 'paid', label: 'Paid' },\r\n        { type: 'sort', value: 'date', label: 'Date Added' },\r\n        { type: 'sort', value: 'name_asc', label: 'Name (A-Z)' },\r\n        { type: 'sort', value: 'name_desc', label: 'Name (Z-A)' }\r\n    ];\r\n\r\n\r\n    // Lock body scroll when open\r\n    useEffect(() => {\r\n        if (open) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = '';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = '';\r\n        };\r\n    }, [open]);\r\n\r\n    // Helper to produce a compact summary (pricing + sort)\r\n    const summaryLabel = () => {\r\n        const pricingLabel = activePricing !== 'all' ? options.find(o => o.type === 'pricing' && o.value === activePricing)?.label : 'All';\r\n        const sortLabel = options.find(o => o.type === 'sort' && o.value === sortOrder)?.label || 'Date Added';\r\n        return `${pricingLabel}  ${sortLabel}`;\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\">\r\n            <button\r\n                onClick={() => setOpen(o => !o)}\r\n                className=\"px-3 py-1.5 text-[10px] font-bold uppercase tracking-wider rounded-lg bg-white/5 backdrop-blur-md text-white border border-white/10 hover:bg-white/20 transition-all duration-200 flex items-center gap-2 shadow-sm\"\r\n                aria-haspopup=\"true\"\r\n                aria-expanded={open}\r\n            >\r\n                <span className=\"flex items-center gap-1.5\">\r\n                    <span className=\"text-xs\"></span>\r\n                    <span>Sort</span>\r\n                </span>\r\n                <span className=\"ml-auto text-[9px] text-gray-400 hidden sm:inline-block truncate max-w-[80px] border-l border-white/10 pl-2\">{summaryLabel()}</span>\r\n                <span className={`transition-transform duration-200 text-[10px] ${open ? 'rotate-180' : ''}`}></span>\r\n            </button>\r\n            {/* Bottom Sheet Backdrop & Panel */}\r\n            {/* Bottom Sheet Backdrop & Panel - Portalled to body to cover bottom nav */}\r\n            {typeof document !== 'undefined' && createPortal(\r\n                <AnimatePresence>\r\n                    {open && (\r\n                        <>\r\n                            {/* Backdrop */}\r\n                            <m.div\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                exit={{ opacity: 0 }}\r\n                                onClick={() => setOpen(false)}\r\n                                className=\"fixed inset-0 bg-black/80 backdrop-blur-sm z-[9990]\"\r\n                            />\r\n                            {/* Sheet */}\r\n                            <m.div\r\n                                initial={{ y: \"100%\" }}\r\n                                animate={{ y: 0 }}\r\n                                exit={{ y: \"100%\" }}\r\n                                transition={{ type: \"spring\", damping: 25, stiffness: 300 }}\r\n                                className=\"fixed bottom-0 left-0 right-0 bg-[#121212] rounded-t-3xl border-t border-white/10 z-[9999] overflow-hidden shadow-2xl safe-area-bottom\"\r\n                            >\r\n                                {/* Handle */}\r\n                                <div className=\"w-full flex justify-center pt-3 pb-1\" onClick={() => setOpen(false)}>\r\n                                    <div className=\"w-12 h-1.5 bg-white/20 rounded-full\" />\r\n                                </div>\r\n\r\n                                <div className=\"p-4 space-y-4 max-h-[70vh] overflow-y-auto pb-24\">\r\n                                    {/* Header */}\r\n                                    <div className=\"flex items-center justify-between pb-2 border-b border-white/5\">\r\n                                        <h3 className=\"text-lg font-bold text-white\">Sort & Filter</h3>\r\n                                        <button \r\n                                            onClick={() => setOpen(false)}\r\n                                            className=\"p-2 text-gray-400 hover:text-white\"\r\n                                        >\r\n                                            \r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    {/* Content Grid */}\r\n                                    <div className=\"space-y-6\">\r\n                                        {/* Pricing Section */}\r\n                                        <div className=\"space-y-3\">\r\n                                            <div className=\"text-xs font-bold uppercase tracking-wider text-gray-500 ml-1\">Pricing</div>\r\n                                            <div className=\"grid grid-cols-2 gap-2\">\r\n                                                {options.filter(o => o.type === 'pricing').map(opt => {\r\n                                                    const active = activePricing === opt.value;\r\n                                                    return (\r\n                                                        <button\r\n                                                            key={opt.value}\r\n                                                            onClick={() => {\r\n                                                                if (activePricing === opt.value) setActivePricing('all');\r\n                                                                else setActivePricing(opt.value);\r\n                                                                setOpen(false);\r\n                                                            }}\r\n                                                            className={`px-3 py-3 text-sm font-medium rounded-xl border transition-all ${\r\n                                                                active \r\n                                                                ? 'bg-[#FF6B00] text-white border-[#FF6B00] shadow-lg' \r\n                                                                : 'bg-white/5 text-gray-400 border-white/5 hover:bg-white/10'\r\n                                                            }`}\r\n                                                        >\r\n                                                            {opt.label}\r\n                                                        </button>\r\n                                                    );\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                        {/* Sort Section */}\r\n                                        <div className=\"space-y-3\">\r\n                                            <div className=\"text-xs font-bold uppercase tracking-wider text-gray-500 ml-1\">Sort By</div>\r\n                                            <div className=\"flex flex-col gap-2\">\r\n                                                {options.filter(o => o.type === 'sort').map(opt => {\r\n                                                    const active = sortOrder === opt.value;\r\n                                                    return (\r\n                                                        <button\r\n                                                            key={opt.value}\r\n                                                            onClick={() => {\r\n                                                                setSortOrder(opt.value);\r\n                                                                setOpen(false);\r\n                                                            }}\r\n                                                            className={`flex items-center justify-between px-4 py-3.5 rounded-xl border transition-all ${\r\n                                                                active \r\n                                                                ? 'bg-white/10 text-white border-white/20' \r\n                                                                : 'bg-transparent text-gray-400 border-transparent hover:bg-white/5'\r\n                                                            }`}\r\n                                                        >\r\n                                                            <span className=\"text-sm font-medium\">{opt.label}</span>\r\n                                                            {active && <span className=\"text-[#FF6B00]\"></span>}\r\n                                                        </button>\r\n                                                    );\r\n                                                })}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"h-6\" /> \r\n                                </div>\r\n                            </m.div>\r\n                        </>\r\n                    )}\r\n                </AnimatePresence>,\r\n                document.body\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MobileSortMenu;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { X, Send, ExternalLink, Bot, Eraser, Sparkles, Wand2 } from 'lucide-react';\r\nimport { FaPaperPlane, FaMagic, FaExternalLinkAlt } from \"react-icons/fa\"; // Keep existing icons used in previous layout\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { addRefToUrl } from '../utils/linkUtils'; \r\n\r\n// Import Logo\r\nimport LogoImage from '../assets/logo.png';\r\n// Import local tools data\r\nimport toolsData from '../data/toolsData';\r\n\r\nconst quickReplies = [\r\n  { label: \" Image Tools\", action: \"image\" },\r\n  { label: \" Copywriting\", action: \"copywriting\" },\r\n  { label: \" Coding Help\", action: \"code\" },\r\n  { label: \" Free Tools\", action: \"free\" }\r\n];\r\n\r\nconst ChatBot = () => {\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [messages, setMessages] = useState([\r\n    { \r\n      id: 1, \r\n      text: \"Hi there!  I'm your AI Tools Assistant. I can help you find tools, compare options, or answer questions about pricing. What are you looking for today?\", \r\n      sender: 'bot' \r\n    }\r\n  ]);\r\n  const [input, setInput] = useState(\"\");\r\n  const [isTyping, setIsTyping] = useState(false);\r\n  \r\n  // Context Memory State\r\n  const [context, setContext] = useState({\r\n      lastIntent: null,     // 'search', 'chat', 'greeting', 'comparison', 'pricing'\r\n      lastTopic: null,      // 'image', 'code', etc.\r\n      lastResults: [],      // Stored results from search\r\n      shownCount: 0,        // How many results shown so far\r\n      userPreferences: {\r\n          budget: null, // 'free', 'paid'\r\n          role: null    // 'student', 'developer'\r\n      }\r\n  });\r\n\r\n  const messagesEndRef = useRef(null);\r\n  const inputRef = useRef(null);\r\n  const chatRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n        if (isOpen && chatRef.current && !chatRef.current.contains(event.target)) {\r\n            setIsOpen(false);\r\n        }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => document.removeEventListener('mousedown', handleClickOutside);\r\n  }, [isOpen]);\r\n\r\n  // Helper to flatten local tools data\r\n  const getInitialTools = () => {\r\n      // toolsData is array of { category: string, tools: [] }\r\n      // Adjust based on actual structure inspection: const toolsData = [ {id, name, tools: []} ... ]\r\n      if (Array.isArray(toolsData)) {\r\n          return toolsData.flatMap(category => category.tools || []);\r\n      }\r\n      return [];\r\n  };\r\n\r\n  // Initialize with flattened local data\r\n  const [allTools, setAllTools] = useState(getInitialTools());\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n    if (isOpen && inputRef.current) {\r\n      setTimeout(() => inputRef.current.focus(), 300);\r\n    }\r\n  }, [messages, isOpen]);\r\n\r\n  // Fetch live tools and merge\r\n  useEffect(() => {\r\n    const fetchTools = async () => {\r\n        try {\r\n            const apiModule = await import('../utils/api');\r\n            const api = apiModule.default;\r\n            \r\n            const response = await api.get('/api/tools/approved');\r\n            if (response.data && response.data.tools) {\r\n                const liveTools = response.data.tools;\r\n                const localTools = getInitialTools();\r\n\r\n                // Create a map of normalized tools to prevent duplicates\r\n                // Priority: Live tools overwrite local tools with same name\r\n                const toolsMap = new Map();\r\n\r\n                // Add local tools first\r\n                localTools.forEach(tool => {\r\n                    toolsMap.set(tool.name.toLowerCase(), { ...tool, source: 'local' });\r\n                });\r\n\r\n                // Add/Overwrite with live tools\r\n                liveTools.forEach(tool => {\r\n                    toolsMap.set(tool.name.toLowerCase(), {\r\n                        ...tool,\r\n                        image: tool.snapshotUrl || tool.image || LogoImage,\r\n                        isAiToolsChoice: tool.isAiToolsChoice,\r\n                        source: 'live'\r\n                    });\r\n                });\r\n\r\n                const mergedTools = Array.from(toolsMap.values());\r\n                setAllTools(mergedTools);\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Failed to fetch live tools:\", error);\r\n            // Fallback is already set in initial state\r\n        }\r\n    };\r\n    fetchTools();\r\n  }, []);\r\n\r\n  // --- ADVANCED LOGIC ---\r\n\r\n  const updatePreferences = (text) => {\r\n      const lower = text.toLowerCase();\r\n      let updates = {};\r\n      if (lower.includes('student') || lower.includes('learn')) updates.role = 'student';\r\n      if (lower.includes('developer') || lower.includes('coder')) updates.role = 'developer';\r\n      if (lower.includes('free') || lower.includes('no cost')) updates.budget = 'free';\r\n      \r\n      if (Object.keys(updates).length > 0) {\r\n          setContext(prev => ({\r\n              ...prev,\r\n              userPreferences: { ...prev.userPreferences, ...updates }\r\n          }));\r\n      }\r\n  };\r\n\r\n  const detectIntent = (text) => {\r\n      const lower = text.toLowerCase();\r\n      if (lower.match(/compare|vs|better than/)) return 'comparison';\r\n      if (lower.match(/price|cost|free|paid|subscription/)) return 'pricing';\r\n      if (lower.match(/best|top|suggest|recommend|find|show/)) return 'discovery';\r\n      if (lower.match(/learn|course|study|student|education/)) return 'education';\r\n      if (lower.match(/how many|count|total|stats|number of tools/)) return 'stats';\r\n      if (lower.match(/^(hi|hello|hey|greetings)/)) return 'greeting';\r\n      if (lower.match(/more|next|continue/)) return 'continuation';\r\n      return 'unknown';\r\n  };\r\n\r\n  const handleStats = () => {\r\n      const count = allTools.length;\r\n      return { \r\n          text: `I currently have access to **${count}** amazing AI tools depending on my data source!  \\n\\nI can help you search through all of them. Try 'Find image tools'.` \r\n      };\r\n  };\r\n\r\n  const handleGreeting = () => {\r\n      setContext(prev => ({ ...prev, lastIntent: 'greeting', shownCount: 0 }));\r\n      return { text: \"Hello!  Ready to explore AI tools? You can skip the search and ask things like 'Best free coding tools' or 'Compare ChatGPT and Claude'.\" };\r\n  };\r\n\r\n  const handleComparison = (text) => {\r\n      const mentionedTools = allTools.filter(t => text.toLowerCase().includes(t.name.toLowerCase()));\r\n      if (mentionedTools.length >= 2) {\r\n          const [t1, t2] = mentionedTools.slice(0, 2);\r\n          setContext(prev => ({ ...prev, lastIntent: 'comparison', lastResults: mentionedTools }));\r\n          return {\r\n              text: `Here's a quick comparison:\\n\\n**${t1.name}**\\n ${t1.description}\\n Pricing: ${t1.pricing || 'Check site'}\\n\\n**${t2.name}**\\n ${t2.description}\\n Pricing: ${t2.pricing || 'Check site'}\\n\\nWhich one fits your needs better?`,\r\n              tools: [t1, t2]\r\n          };\r\n      }\r\n      return { text: \"I need two tool names to compare! Try 'Compare ChatGPT and Jasper'.\" };\r\n  };\r\n\r\n  const handlePricing = (text) => {\r\n      const mentionedTools = allTools.filter(t => text.toLowerCase().includes(t.name.toLowerCase()));\r\n      if (mentionedTools.length > 0) {\r\n          const tool = mentionedTools[0];\r\n          return { \r\n              text: `**${tool.name}** is listed as **${tool.pricing || 'Variable'}**. \\nAlways verify on their official site as pricing can change.`,\r\n              tools: [tool] \r\n          };\r\n      }\r\n      return { text: \"Most tools here are Freemium. Ask about a specific tool, e.g., 'Is Midjourney free?'\" };\r\n  };\r\n\r\n  const handleEducation = () => {\r\n      const eduTools = allTools.filter(t => \r\n          (t.category?.toLowerCase().includes('education') || t.description.toLowerCase().includes('learning')) &&\r\n          (t.pricing?.toLowerCase().includes('free') || t.pricing?.toLowerCase().includes('freemium'))\r\n      );\r\n      const topEdu = eduTools.sort((a, b) => (b.isAiToolsChoice ? 1 : 0) - (a.isAiToolsChoice ? 1 : 0)).slice(0, 4);\r\n      setContext(prev => ({ lastIntent: 'education', lastResults: eduTools, shownCount: 4 }));\r\n      return { text: \"Here are some great tools for learning & education :\", tools: topEdu };\r\n  };\r\n\r\n  const handleDiscovery = (text, currentContext, currentTools) => {\r\n      const lower = text.toLowerCase();\r\n      let categoryKeywords = [];\r\n      if (lower.includes('image') || lower.includes('art')) categoryKeywords.push('image', 'art');\r\n      if (lower.includes('code') || lower.includes('dev')) categoryKeywords.push('code', 'developer');\r\n      if (lower.includes('write') || lower.includes('copy')) categoryKeywords.push('writing', 'copy');\r\n      if (lower.includes('video')) categoryKeywords.push('video');\r\n\r\n      let results = currentTools.filter(t => {\r\n          const content = (t.name + t.description + (t.category || '')).toLowerCase();\r\n          return categoryKeywords.some(k => content.includes(k)) || categoryKeywords.length === 0;\r\n      });\r\n\r\n      // Simple keyword match if no categorical keywords\r\n      if (categoryKeywords.length === 0) {\r\n           const query = lower.replace('best', '').replace('tools', '').trim();\r\n           if (query) {\r\n             results = currentTools.filter(t => (t.name + t.description + (t.tags?.join('') || '')).toLowerCase().includes(query));\r\n           }\r\n      }\r\n\r\n      if (currentContext.userPreferences.budget === 'free') {\r\n          results = results.filter(t => t.pricing?.toLowerCase().includes('free'));\r\n      }\r\n\r\n      // Rank: AI Choice first\r\n      results.sort((a, b) => {\r\n           const aScore = (a.isAiToolsChoice ? 2 : 0) + (a.badge === 'Recommended' ? 1 : 0);\r\n           const bScore = (b.isAiToolsChoice ? 2 : 0) + (b.badge === 'Recommended' ? 1 : 0);\r\n           return bScore - aScore;\r\n      });\r\n\r\n      const top = results.slice(0, 4);\r\n      if (top.length > 0) {\r\n          setContext(prev => ({ ...prev, lastIntent: 'discovery', lastResults: results, shownCount: 4 }));\r\n          return { text: `Here are the top picks based on your request! `, tools: top };\r\n      }\r\n      return { text: \"I couldn't find exact matches. Try 'Best image tools' or 'Free coding assistants'.\" };\r\n  };\r\n\r\n  const handleContinuation = () => {\r\n      if (context.lastResults.length > context.shownCount) {\r\n           const nextBatch = context.lastResults.slice(context.shownCount, context.shownCount + 3);\r\n           setContext(prev => ({ ...prev, shownCount: prev.shownCount + 3 }));\r\n           return { text: `Here are ${nextBatch.length} more results:`, tools: nextBatch };\r\n      }\r\n      return { text: \"That's all I found! Ready for a new search?\" };\r\n  };\r\n\r\n  const handleUnknown = (text) => {\r\n      const lower = text.toLowerCase();\r\n      const matched = allTools.filter(t => (t.name + t.description).toLowerCase().includes(lower));\r\n      if (matched.length > 0) {\r\n          const top = matched.slice(0, 3);\r\n          setContext(prev => ({ lastIntent: 'search', lastResults: matched, shownCount: 3 }));\r\n          return { text: `I found these tools mentioning \"${text}\":`, tools: top };\r\n      }\r\n      return { text: \"I didn't quite get that. Try 'Find video tools' or 'Compare X and Y'.\" };\r\n  };\r\n\r\n  const getUpdatedPreferences = (text, currentPrefs) => {\r\n      const lower = text.toLowerCase();\r\n      let updates = {};\r\n      if (lower.includes('student') || lower.includes('learn')) updates.role = 'student';\r\n      if (lower.includes('developer') || lower.includes('coder')) updates.role = 'developer';\r\n      if (lower.includes('free') || lower.includes('no cost')) updates.budget = 'free';\r\n      \r\n      return { ...currentPrefs, ...updates };\r\n  };\r\n\r\n  const generateSmartResponse = (userInput) => {\r\n      // 1. Calculate new preferences immediately\r\n      const newPreferences = getUpdatedPreferences(userInput, context.userPreferences || { budget: null, role: null });\r\n      \r\n      // Update state if changed\r\n      if (JSON.stringify(newPreferences) !== JSON.stringify(context.userPreferences)) {\r\n          setContext(prev => ({\r\n              ...prev,\r\n              userPreferences: newPreferences\r\n          }));\r\n      }\r\n\r\n      // 2. Create a temporary context object allowed to satisfy the handlers immediately\r\n      const tempContext = { ...context, userPreferences: newPreferences };\r\n\r\n      const intent = detectIntent(userInput);\r\n      \r\n      switch (intent) {\r\n          case 'greeting': return handleGreeting();\r\n          case 'stats': return handleStats();\r\n          case 'comparison': return handleComparison(userInput);\r\n          case 'pricing': return handlePricing(userInput);\r\n          case 'education': return handleEducation();\r\n          case 'continuation': return handleContinuation();\r\n          case 'discovery': return handleDiscovery(userInput, tempContext, allTools);\r\n          default: return handleUnknown(userInput);\r\n      }\r\n  };\r\n \r\n  const handleSend = async (text = input) => {\r\n    if (!text.trim()) return;\r\n\r\n    const newUserMsg = { id: Date.now(), text: text, sender: 'user' };\r\n    setMessages(prev => [...prev, newUserMsg]);\r\n    setInput(\"\");\r\n    setIsTyping(true);\r\n\r\n    setTimeout(() => {\r\n      const botResponse = generateSmartResponse(text);\r\n      const newBotMsg = { \r\n        id: Date.now() + 1, \r\n        text: botResponse.text, \r\n        tools: botResponse.tools, \r\n        sender: 'bot' \r\n      };\r\n      setMessages(prev => [...prev, newBotMsg]);\r\n      setIsTyping(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const clearChat = () => {\r\n    setMessages([{ \r\n      id: 1, \r\n      text: \"Chat cleared!  How can I help you today?\", \r\n      sender: 'bot' \r\n    }]);\r\n    setContext({ lastIntent: null, lastTopic: null, lastResults: [], shownCount: 0, userPreferences: { budget: null, role: null } });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed bottom-6 right-6 z-50 flex flex-col items-end\">\r\n      {/* Floating Button */}\r\n      {!isOpen && (\r\n      <button\r\n        onClick={() => setIsOpen(true)}\r\n        className=\"w-16 h-16 rounded-full flex items-center justify-center text-white transition-all duration-300 hover:scale-110 active:scale-95 group relative\"\r\n          style={{\r\n          background: 'rgba(5, 5, 5, 0.6)',\r\n          backdropFilter: 'blur(12px)',\r\n          WebkitBackdropFilter: 'blur(12px)',\r\n          border: '1px solid rgba(255, 255, 255, 0.1)',\r\n          boxShadow: '0 8px 32px 0 rgba(255, 107, 0, 0.15)'\r\n        }}\r\n      >\r\n          <div className=\"relative\">\r\n            <img src={LogoImage} alt=\"Chat\" className=\"w-10 h-10 object-contain group-hover:scale-110 transition-transform\" />\r\n            <span className=\"absolute -top-1 -right-1 w-3 h-3 bg-[#FF6B00] rounded-full border-2 border-black shadow-lg shadow-orange-500/50 animate-pulse\" />\r\n          </div>\r\n      </button>\r\n      )}\r\n\r\n      {/* Chat Window */}\r\n      <AnimatePresence>\r\n      {isOpen && (\r\n        <motion.div\r\n            ref={chatRef}\r\n            initial={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            animate={{ opacity: 1, scale: 1, y: 0 }}\r\n            exit={{ opacity: 0, scale: 0.9, y: 20 }}\r\n            className=\"fixed bottom-24 right-4 sm:right-6 z-[100] w-[90vw] sm:w-[380px] h-[600px] max-h-[80vh] rounded-3xl overflow-hidden flex flex-col font-sans border border-white/20 shadow-[0_8px_32px_0_rgba(0,0,0,0.36)]\"\r\n            style={{\r\n                background: 'rgba(5, 5, 5, 0.9)',\r\n                backdropFilter: 'blur(20px)',\r\n                WebkitBackdropFilter: 'blur(20px)',\r\n                boxShadow: '0 20px 50px -12px rgba(0, 0, 0, 0.8)'\r\n            }}\r\n        >\r\n          {/* Animated Background Blobs */}\r\n          <div className=\"absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none z-0\">\r\n            <div className=\"absolute -top-20 -left-20 w-60 h-60 bg-[#FF6B00]/10 rounded-full blur-[80px] animate-pulse\" />\r\n            <div className=\"absolute -bottom-20 -right-20 w-60 h-60 bg-red-600/10 rounded-full blur-[80px] animate-pulse\" style={{ animationDelay: '1s' }} />\r\n          </div>\r\n\r\n          {/* Header */}\r\n          <div className=\"relative z-10 px-5 py-4 border-b border-white/10 bg-white/5 backdrop-blur-md flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"relative\">\r\n                <div className=\"w-10 h-10 rounded-full p-[1px] bg-gradient-to-tr from-[#FF6B00] to-red-600\">\r\n                    <div className=\"w-full h-full rounded-full bg-black/50 backdrop-blur-sm flex items-center justify-center overflow-hidden\">\r\n                         <img src={LogoImage} alt=\"AI\" className=\"w-full h-full object-cover opacity-90\" />\r\n                    </div>\r\n                </div>\r\n                <span className=\"absolute bottom-0 right-0 w-2.5 h-2.5 bg-[#FF6B00] rounded-full border-2 border-black shadow-[0_0_8px_rgba(255,107,0,0.5)] animate-pulse\" />\r\n              </div>\r\n              <div>\r\n                <h3 className=\"text-white font-bold text-base tracking-wide flex items-center gap-1.5 shadow-black drop-shadow-md\">\r\n                  AI Hub Assistant\r\n                  <Sparkles className=\"w-3.5 h-3.5 text-[#FF6B00] animate-pulse\" />\r\n                </h3>\r\n                <div className=\"flex items-center gap-1.5\">\r\n                  <span className=\"w-1.5 h-1.5 rounded-full bg-[#FF6B00] animate-pulse\" />\r\n                  <span className=\"text-[10px] text-orange-200/80 font-medium tracking-wider uppercase\">Online</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"flex gap-1.5\">\r\n              <button\r\n                onClick={clearChat}\r\n                className=\"p-2 rounded-xl text-white/50 hover:text-white hover:bg-white/10 transition-all hover:rotate-12 active:scale-95 group\"\r\n                title=\"Clear Chat\"\r\n              >\r\n                <Eraser className=\"w-4 h-4 group-hover:text-pink-400 transition-colors\" />\r\n              </button>\r\n              <button\r\n                onClick={() => setIsOpen(false)}\r\n                className=\"p-2 rounded-xl text-white/50 hover:text-white hover:bg-white/10 transition-all hover:scale-110 active:scale-95 hover:rotate-90 duration-300\"\r\n              >\r\n                <X className=\"w-5 h-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n        {/* Messages Area - Flex Grow */}\r\n        <div \r\n            className=\"flex-1 min-h-0 overflow-y-auto p-4 space-y-6 scrollbar-thin scrollbar-thumb-white/10 scrollbar-track-transparent relative z-10\"\r\n        >\r\n            {messages.map((msg) => (\r\n                <motion.div\r\n                    key={msg.id}\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    className={`flex flex-col ${msg.sender === 'user' ? 'items-end' : 'items-start'} gap-1`}\r\n                >\r\n                    {/* Message Bubble */}\r\n                    <div\r\n                        className={`max-w-[85%] p-3.5 rounded-2xl text-sm leading-relaxed shadow-lg backdrop-blur-md border border-white/10 ${\r\n                            msg.sender === 'user'\r\n                                ? 'bg-gradient-to-br from-[#FF6B00] to-orange-700 text-white rounded-br-none shadow-orange-900/20'\r\n                                : 'bg-white/10 text-gray-100 rounded-bl-none'\r\n                        }`}\r\n                    >\r\n                        <div className=\"whitespace-pre-wrap\">{msg.text}</div>\r\n                    </div>\r\n\r\n                    {/* Tool Suggestions (Card Style) */}\r\n                    {msg.tools && msg.tools.length > 0 && (\r\n                        <div className=\"mt-2 w-[90%] space-y-2\">\r\n                            {msg.tools.map((tool, idx) => (\r\n                                <motion.a \r\n                                    key={idx}\r\n                                    href={addRefToUrl(tool.url)}\r\n                                    target=\"_blank\" \r\n                                    rel=\"noopener noreferrer\"\r\n                                    initial={{ opacity: 0, x: -10 }}\r\n                                    animate={{ opacity: 1, x: 0 }}\r\n                                    transition={{ delay: idx * 0.1 }}\r\n                                    className=\"flex items-center gap-3 p-2.5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-cyan-500/50 transition-all group cursor-pointer text-left backdrop-blur-sm shadow-sm\"\r\n                                >\r\n                                    <div className=\"w-10 h-10 rounded-lg bg-black/40 overflow-hidden flex-shrink-0 border border-white/5\">\r\n                                        <img src={tool.image || LogoImage} alt={tool.name} className=\"w-full h-full object-cover\" />\r\n                                    </div>\r\n                                    <div className=\"flex-1 min-w-0\">\r\n                                        <h4 className=\"text-white font-medium text-xs truncate group-hover:text-[#FF6B00] transition-colors\">{tool.name}</h4>\r\n                                        <p className=\"text-gray-400 text-[10px] truncate\">{tool.description}</p>\r\n                                    </div>\r\n                                    <FaExternalLinkAlt className=\"text-gray-500 text-xs group-hover:text-[#FF6B00]\" />\r\n                                </motion.a>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                    \r\n                    <span className=\"text-[9px] text-gray-400/70 px-1\">\r\n                        {msg.sender === 'user' ? 'You' : 'AI Assistant'}\r\n                    </span>\r\n                </motion.div>\r\n            ))}\r\n            \r\n            {isTyping && (\r\n                <div className=\"flex justify-start\">\r\n                    <div className=\"bg-white/5 p-4 rounded-2xl rounded-bl-sm flex gap-1.5 items-center backdrop-blur-sm border border-white/10\">\r\n                        <span className=\"w-1.5 h-1.5 bg-[#FF6B00] rounded-full animate-bounce\" style={{ animationDelay: '0s' }} />\r\n                        <span className=\"w-1.5 h-1.5 bg-[#FF6B00] rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }} />\r\n                        <span className=\"w-1.5 h-1.5 bg-[#FF6B00] rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }} />\r\n                    </div>\r\n                </div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n        </div>\r\n\r\n        {/* Quick Replies & Input Wrapper - Flex Footer */}\r\n        <div className=\"flex-none bg-white/5 border-t border-white/10 backdrop-blur-md relative z-20\">\r\n            \r\n                {/* Quick Replies */}\r\n            {!isTyping && messages.length < 2 && (\r\n                <div className=\"px-4 pt-3 flex gap-2 flex-wrap justify-center\">\r\n                    {quickReplies.map((qr) => (\r\n                        <button\r\n                            key={qr.label}\r\n                            onClick={() => handleSend(qr.action)}\r\n                            className=\"text-xs bg-white/5 hover:bg-[#FF6B00]/20 border border-white/10 hover:border-[#FF6B00]/50 text-gray-300 hover:text-white px-3 py-1.5 rounded-full transition-all backdrop-blur-sm shadow-sm\"\r\n                        >\r\n                            {qr.label}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {/* Input Area */}\r\n            <div className=\"p-4\">\r\n                <div className=\"relative group\">\r\n                    <input\r\n                        ref={inputRef}\r\n                        type=\"text\"\r\n                        value={input}\r\n                        onChange={(e) => setInput(e.target.value)}\r\n                        onKeyPress={(e) => e.key === 'Enter' && handleSend()}\r\n                        placeholder=\"Type to find tools...\"\r\n                        className=\"w-full bg-black/40 text-white pl-4 pr-12 py-3.5 rounded-xl border border-white/10 focus:border-[#FF6B00]/50 focus:ring-2 focus:ring-[#FF6B00]/10 focus:outline-none transition-all placeholder:text-gray-500 text-sm shadow-inner backdrop-blur-sm\"\r\n                    />\r\n                    <button\r\n                        onClick={() => handleSend()}\r\n                        disabled={!input.trim()}\r\n                        className=\"absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-lg text-[#FF6B00] hover:bg-[#FF6B00]/10 disabled:text-gray-600 disabled:hover:bg-transparent transition-all\"\r\n                    >\r\n                        <FaPaperPlane className={`text-sm transform transition-transform ${input.trim() ? 'scale-110' : 'scale-100'}`} />\r\n                    </button>\r\n                </div>\r\n                <div className=\"mt-2 text-center\">\r\n                    <span className=\"text-[9px] text-gray-500 flex items-center justify-center gap-1.5\">\r\n                        <FaMagic className=\"text-xs text-[#FF6B00]\" /> AI Context Smart Search(Beta)\r\n                    </span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        </motion.div>\r\n      )}\r\n      </AnimatePresence>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ChatBot;","import React, { useState, useRef, useEffect } from 'react';\r\n\r\nconst PricingDropdown = ({ activePricing, handlePricing }) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const dropdownRef = useRef(null);\r\n\r\n    const pricingOptions = [\r\n        { value: 'all', label: 'All Resources', icon: '', color: 'text-blue-500' },\r\n        { value: 'free', label: 'Free', icon: '', color: 'text-cyan-500' },\r\n        { value: 'freemium', label: 'Freemium', icon: '', color: 'text-yellow-500' },\r\n        { value: 'open-source', label: 'Open Source', icon: '', color: 'text-purple-500' },\r\n        { value: 'paid', label: 'Paid', icon: '', color: 'text-green-500' }\r\n    ];\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n                setIsOpen(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const getSelected = () => pricingOptions.find(opt => opt.value === activePricing) || pricingOptions[0];\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"px-4 py-2 text-sm font-medium rounded-lg bg-white/10 backdrop-blur-md text-white border border-white/20 hover:bg-white/20 transition-all duration-200 flex items-center gap-2 w-full justify-between shadow-lg\"\r\n            >\r\n                <span className=\"flex items-center gap-2\">\r\n                    <span>{getSelected().icon}</span>\r\n                    <span>{getSelected().label}</span>\r\n                </span>\r\n                <span className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}></span>\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"absolute top-full mt-2 left-0 bg-[#0F0F0F] backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 p-2 min-w-[240px] z-[9999] overflow-visible space-y-1\">\r\n                    {pricingOptions.map((option) => (\r\n                        <button\r\n                            key={option.value}\r\n                            onClick={() => {\r\n                                handlePricing(option.value);\r\n                                setIsOpen(false);\r\n                            }}\r\n                            className={`w-full px-4 py-3 text-left flex items-center gap-3 rounded-xl transition-all duration-200 group ${activePricing === option.value \r\n                                ? 'bg-white/20 text-white shadow-md' \r\n                                : 'text-gray-400 hover:bg-white/10 hover:text-white'\r\n                            }`}\r\n                        >\r\n                            <span className=\"text-lg opacity-80 group-hover:opacity-100 transition-opacity\">{option.icon}</span>\r\n                            <span className=\"text-sm font-semibold whitespace-nowrap flex-1\">\r\n                                {option.label}\r\n                            </span>\r\n                            {activePricing === option.value && (\r\n                                <span className=\"text-xs text-white opacity-80\"></span>\r\n                            )}\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PricingDropdown;\r\n","import React, { useState, useRef, useEffect } from 'react';\r\n\r\nconst UnifiedSortDropdown = ({ \r\n    dateFilter, handleDateFilter, \r\n    sortOrder, handleSortOrder, \r\n    nameFilter, handleNameFilter \r\n}) => {\r\n    const [isOpen, setIsOpen] = useState(false);\r\n    const [expandedSection, setExpandedSection] = useState('date'); // 'date' | 'name' | null\r\n    const [showCustomDate, setShowCustomDate] = useState(false);\r\n    const [showLetterSelector, setShowLetterSelector] = useState(false);\r\n    const dropdownRef = useRef(null);\r\n\r\n    // Options Arrays\r\n    const dateOptions = [\r\n        { value: 'all', label: 'All Time' },\r\n        { value: 'today', label: 'Today' },\r\n        { value: 'month', label: 'This Month' },\r\n        { value: 'custom', label: 'Choose Date...' }\r\n    ];\r\n    const alphabet = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (dropdownRef.current && !dropdownRef.current.contains(event.target)) {\r\n                setIsOpen(false);\r\n                setShowCustomDate(false);\r\n                setShowLetterSelector(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    const toggleLetter = (letter) => {\r\n        const current = [...nameFilter];\r\n        const idx = current.indexOf(letter);\r\n        if (idx >= 0) current.splice(idx, 1);\r\n        else current.push(letter);\r\n        handleNameFilter(current);\r\n        // If filtering by letters, force name sort if not already\r\n        if (!['name_asc', 'name_desc'].includes(sortOrder)) {\r\n            handleSortOrder('name_asc');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"relative\" ref={dropdownRef}>\r\n            <button\r\n                onClick={() => setIsOpen(!isOpen)}\r\n                className=\"px-4 py-2 text-sm font-medium rounded-lg bg-white/10 backdrop-blur-md text-white border border-white/20 hover:bg-white/20 transition-all duration-200 flex items-center gap-2 w-full justify-between shadow-lg\"\r\n            >\r\n                <span className=\"truncate\">Sort By</span>\r\n                <span className={`transition-transform duration-200 ${isOpen ? 'rotate-180' : ''}`}></span>\r\n            </button>\r\n\r\n            {isOpen && (\r\n                <div className=\"absolute top-full mt-2 right-0 bg-[#0F0F0F] backdrop-blur-xl rounded-2xl shadow-2xl border border-white/10 p-2 min-w-[240px] z-[9999] overflow-visible flex flex-col gap-1\">\r\n                    \r\n                    {/* Date Added Section */}\r\n                    <div className=\"rounded-xl overflow-hidden bg-white/5 border border-white/5\">\r\n                        <button \r\n                            onClick={() => setExpandedSection(expandedSection === 'date' ? null : 'date')}\r\n                            className=\"w-full px-4 py-3 flex items-center justify-between text-sm font-bold text-gray-200 hover:bg-white/5 transition-colors\"\r\n                        >\r\n                            <span>Date Added</span>\r\n                            <span className={`transition-transform ${expandedSection === 'date' ? 'rotate-180' : ''}`}></span>\r\n                        </button>\r\n                        \r\n                        {expandedSection === 'date' && (\r\n                            <div className=\"p-2 space-y-1 bg-black/20 border-t border-white/5\">\r\n                                {!showCustomDate ? (\r\n                                    dateOptions.map((option) => (\r\n                                        <button\r\n                                            key={option.value}\r\n                                            onClick={() => {\r\n                                                if (option.value === 'custom') {\r\n                                                    setShowCustomDate(true);\r\n                                                } else {\r\n                                                    handleDateFilter({ type: option.value, value: null });\r\n                                                    handleSortOrder('date'); // Switch sort to date\r\n                                                }\r\n                                            }}\r\n                                            className={`w-full px-3 py-2 text-left rounded-lg text-xs font-medium transition-colors flex items-center justify-between ${\r\n                                                dateFilter.type === option.value && sortOrder === 'date' ? 'bg-[#FF6B00] text-white' : 'text-gray-400 hover:text-white hover:bg-white/10'\r\n                                            }`}\r\n                                        >\r\n                                            {option.label}\r\n                                            {dateFilter.type === option.value && sortOrder === 'date' && option.value !== 'custom' && <span></span>}\r\n                                        </button>\r\n                                    ))\r\n                                ) : (\r\n                                    <div className=\"space-y-2 p-1\">\r\n                                         <div className=\"flex items-center justify-between text-xs text-gray-400\">\r\n                                            <span>Pick Date</span>\r\n                                            <button onClick={() => setShowCustomDate(false)} className=\"hover:text-white text-[10px] uppercase\">Back</button>\r\n                                         </div>\r\n                                         <input \r\n                                            type=\"date\" \r\n                                            className=\"w-full bg-white/10 border border-white/10 rounded px-2 py-1 text-white text-xs\"\r\n                                            onChange={(e) => {\r\n                                                if (e.target.value) {\r\n                                                    handleDateFilter({ type: 'custom', value: e.target.value });\r\n                                                    handleSortOrder('date');\r\n                                                }\r\n                                            }}\r\n                                         />\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Name Section */}\r\n                    <div className=\"rounded-xl overflow-hidden bg-white/5 border border-white/5\">\r\n                         <button \r\n                            onClick={() => setExpandedSection(expandedSection === 'name' ? null : 'name')}\r\n                            className=\"w-full px-4 py-3 flex items-center justify-between text-sm font-bold text-gray-200 hover:bg-white/5 transition-colors\"\r\n                        >\r\n                            <span>Name</span>\r\n                            <span className={`transition-transform ${expandedSection === 'name' ? 'rotate-180' : ''}`}></span>\r\n                        </button>\r\n                        \r\n                        {expandedSection === 'name' && (\r\n                            <div className=\"p-2 space-y-1 bg-black/20 border-t border-white/5\">\r\n                                {!showLetterSelector ? (\r\n                                    <>\r\n                                        <button\r\n                                            onClick={() => { handleSortOrder('name_asc'); handleNameFilter([]); }}\r\n                                            className={`w-full px-3 py-2 text-left rounded-lg text-xs font-medium transition-colors flex items-center justify-between ${\r\n                                                sortOrder === 'name_asc' && nameFilter.length === 0 ? 'bg-[#FF6B00] text-white' : 'text-gray-400 hover:text-white hover:bg-white/10'\r\n                                            }`}\r\n                                        >\r\n                                            A - Z\r\n                                            {sortOrder === 'name_asc' && nameFilter.length === 0 && <span></span>}\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => { handleSortOrder('name_desc'); handleNameFilter([]); }}\r\n                                            className={`w-full px-3 py-2 text-left rounded-lg text-xs font-medium transition-colors flex items-center justify-between ${\r\n                                                sortOrder === 'name_desc' && nameFilter.length === 0 ? 'bg-[#FF6B00] text-white' : 'text-gray-400 hover:text-white hover:bg-white/10'\r\n                                            }`}\r\n                                        >\r\n                                            Z - A\r\n                                            {sortOrder === 'name_desc' && nameFilter.length === 0 && <span></span>}\r\n                                        </button>\r\n                                        <button\r\n                                            onClick={() => setShowLetterSelector(true)}\r\n                                            className={`w-full px-3 py-2 text-left rounded-lg text-xs font-medium transition-colors flex items-center justify-between ${\r\n                                                nameFilter.length > 0 ? 'bg-[#FF6B00] text-white' : 'text-gray-400 hover:text-white hover:bg-white/10'\r\n                                            }`}\r\n                                        >\r\n                                            Customize...\r\n                                            <span></span>\r\n                                        </button>\r\n                                    </>\r\n                                ) : (\r\n                                    <div className=\"space-y-2 p-1\">\r\n                                        <div className=\"flex items-center justify-between text-xs text-gray-400\">\r\n                                            <span>Start Letter</span>\r\n                                            <button onClick={() => setShowLetterSelector(false)} className=\"hover:text-white text-[10px] uppercase\">Back</button>\r\n                                        </div>\r\n                                        <div className=\"grid grid-cols-5 gap-1 max-h-[160px] overflow-y-auto scrollbar-hide py-1\">\r\n                                            {alphabet.map(letter => (\r\n                                                <button\r\n                                                    key={letter}\r\n                                                    onClick={() => toggleLetter(letter)}\r\n                                                    className={`aspect-square rounded flex items-center justify-center text-[10px] font-bold ${\r\n                                                        nameFilter.includes(letter) ? 'bg-orange-500 text-white' : 'bg-white/10 text-gray-400 hover:bg-white/20'\r\n                                                    }`}\r\n                                                >\r\n                                                    {letter}\r\n                                                </button>\r\n                                            ))}\r\n                                        </div>\r\n                                        <button onClick={() => handleNameFilter([])} className=\"w-full text-[10px] text-center text-gray-500 hover:text-white\">Clear Selection</button>\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UnifiedSortDropdown;\r\n","import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport { LazyMotion, domAnimation, m } from 'framer-motion';\r\nimport FuseNamespace from 'fuse.js';\r\nimport { Player } from '@lottiefiles/react-lottie-player';\r\n\r\nimport toolsData from '../data/toolsData';\r\nimport ToolCard from './ToolCard';\r\nimport ToolDetailModal from './ToolDetailModal';\r\nimport { FaSearch, FaChevronLeft, FaChevronRight } from 'react-icons/fa';\r\nimport MobileCategoryTabs from './MobileCategoryTabs';\r\nimport MobileTopNav from './MobileTopNav';\r\nimport MobileSortMenu from './MobileSortMenu';\r\nimport HeroHeading from './HeroHeading';\r\nimport InfiniteMarquee from './InfiniteMarquee';\r\nimport ChatBot from './ChatBot';\r\n\r\nimport ProCarousel from './ProCarousel';\r\nimport PricingDropdown from './PricingDropdown';\r\nimport UnifiedSortDropdown from './UnifiedSortDropdown';\r\n\r\n\r\n\r\n\r\n// Derived category IDs (fallback if utility not present)\r\nconst CATEGORY_IDS = toolsData.map(c => c.id);\r\n\r\n\r\n\r\n// --- Main Home Component ---\r\nconst Home = () => {\r\n    // nav-related state moved to a global Sidebar component\r\n\r\n    // Show more categories state\r\n\r\n\r\n    const [showAllCategories, setShowAllCategories] = useState(false);\r\n    const [showAllStickyCategories, setShowAllStickyCategories] = useState(false);\r\n\r\n\r\n\r\n    const location = useLocation();\r\n    const history = useHistory();\r\n    // --- Infinite Marquee Featured Tools ---\r\n    const featuredTools = useMemo(() => {\r\n        // Find tools tagged as 'Recommended' or 'New' or 'Choice' to showcase\r\n        // Prioritize tools with images\r\n        const all = toolsData.flatMap(c => c.tools);\r\n        // Shuffle or pick specific ones. For now, let's pick 15 specific high-quality ones to ensure logos look good\r\n        const topPicks = all.filter(t => \r\n             (t.badge === 'Recommended' || t.name === 'ChatGPT' || t.name === 'Midjourney' || t.name === 'Claude' || t.name === 'Jasper' || t.name === 'Notion AI') \r\n             && t.image // Ensure they have logos\r\n        );\r\n        // Dedupe by name\r\n        return Array.from(new Map(topPicks.map(item => [item.name, item])).values()).slice(0, 15);\r\n    }, []);\r\n    // Modal state for detailed tool view\r\n    const [selectedTool, setSelectedTool] = useState(null);\r\n\r\n    const openModal = useCallback((tool) => {\r\n        if (!tool) {\r\n            console.error('Tool data is missing!');\r\n            return;\r\n        }\r\n        setSelectedTool(tool);\r\n    }, []);\r\n\r\n    const closeModal = useCallback(() => {\r\n        setSelectedTool(null);\r\n    }, []);\r\n\r\n    // Consistent navigation for both grid and list views\r\n    const navigateToTool = useCallback((tool) => {\r\n        if (!tool || !tool.name) return;\r\n        if (tool.comingSoon) return;\r\n        const toolSlug = tool.name.toLowerCase()\r\n            .replace(/[^a-z0-9\\s-]/g, '')\r\n            .replace(/\\s+/g, '-')\r\n            .replace(/-+/g, '-');\r\n        const categorySlug = tool.category || 'all';\r\n        history.push(`/tools/${categorySlug}/${toolSlug}`);\r\n    }, [history]);\r\n\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [suggestions, setSuggestions] = useState([]);\r\n    const [isSearchFocused, setIsSearchFocused] = useState(false);\r\n    const [isHovered, setIsHovered] = useState(false);\r\n    const [activeFilter, setActiveFilter] = useState('all');\r\n    const [activePricing, setActivePricing] = useState('all');\r\n    const [dateFilter, setDateFilter] = useState({ type: 'all', value: null });\r\n    const [sortOrder, setSortOrder] = useState('date'); // 'date' | 'name_asc' | 'name_desc'\r\n    const [nameFilter, setNameFilter] = useState([]); // array of 'A', 'B' etc.\r\n    // Pagination & progressive loading\r\n    const PAGE_SIZE = 30;\r\n    const [showMoreMenu, setShowMoreMenu] = useState(false);\r\n    const [page, setPage] = useState(() => {\r\n        if (typeof window === 'undefined') return 1;\r\n        const params = new URLSearchParams(window.location.search || '');\r\n        const p = parseInt(params.get('page'), 10);\r\n        return (p && !isNaN(p) && p > 0) ? p : 1;\r\n    }); // desktop pagination current page\r\n    const [mobileVisibleCount, setMobileVisibleCount] = useState(PAGE_SIZE); // mobile progressive load\r\n    const debounceRef = useRef(null);\r\n    const [activeSuggestionIndex, setActiveSuggestionIndex] = useState(-1);\r\n    const [isMobile, setIsMobile] = useState(() => typeof window !== 'undefined' ? window.innerWidth < 768 : false);\r\n    const [mobileSheetOpen, setMobileSheetOpen] = useState(false);\r\n    const [showScrollTop, setShowScrollTop] = useState(false);\r\n    const [isInitialLoading, setIsInitialLoading] = useState(false);\r\n    const [showStickyNav, setShowStickyNav] = useState(false);\r\n    const stickyNavRef = useRef(null);\r\n    const [stickyHeight, setStickyHeight] = useState(0);\r\n    const [sidebarOpen, setSidebarOpen] = useState(() => localStorage.getItem('sidebarOpen') === 'true');\r\n    // Grid/List view mode for tools\r\n    const [viewMode, setViewMode] = useState('grid'); // 'grid' | 'list'\r\n    // Reference to the hero/search section (non-sticky mobile nav will sit below it)\r\n    const searchSectionRef = useRef(null);\r\n    // Intersection trigger for Browse by Category heading\r\n    const categoryHeadingRef = useRef(null);\r\n    // Refs to detect outside-click for category chip groups (sticky and main)\r\n    const stickyCatsRef = useRef(null);\r\n    const mainCatsRef = useRef(null);\r\n\r\n    // Scroll to top button visibility\r\n    useEffect(() => {\r\n        let ticking = false;\r\n\r\n        const handleScroll = () => {\r\n            if (!ticking) {\r\n                window.requestAnimationFrame(() => {\r\n                    setShowScrollTop(window.scrollY > 500);\r\n\r\n                    ticking = false;\r\n                });\r\n                ticking = true;\r\n            }\r\n        };\r\n\r\n        window.addEventListener('scroll', handleScroll, { passive: true });\r\n        return () => window.removeEventListener('scroll', handleScroll);\r\n    }, []);\r\n\r\n    // Show sticky nav after you scroll past the \"Browse by Category\" heading; hide when you scroll back above it\r\n    useEffect(() => {\r\n        const target = categoryHeadingRef.current;\r\n        if (!target) return;\r\n        const observer = new IntersectionObserver(\r\n            ([entry]) => {\r\n                // If the heading is not intersecting and has moved past the top (negative top),\r\n                // we are scrolled below it  show sticky nav. Otherwise hide.\r\n                const shouldShow = !entry.isIntersecting && entry.boundingClientRect.top <= 0;\r\n                setShowStickyNav(shouldShow);\r\n                // Recalculate spacer height when toggling\r\n                if (shouldShow && stickyNavRef.current) {\r\n                    setStickyHeight(stickyNavRef.current.offsetHeight || 0);\r\n                } else {\r\n                    setStickyHeight(0);\r\n                }\r\n            },\r\n            {\r\n                threshold: 0,\r\n                rootMargin: '0px 0px 0px 0px'\r\n            }\r\n        );\r\n        observer.observe(target);\r\n        return () => observer.disconnect();\r\n    }, []);\r\n\r\n    // Lock body scroll when the mobile categories sheet is open\r\n    useEffect(() => {\r\n        if (!isMobile) return;\r\n        const prev = document.body.style.overflow;\r\n        if (mobileSheetOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = prev || '';\r\n        }\r\n        return () => { document.body.style.overflow = prev || ''; };\r\n    }, [mobileSheetOpen, isMobile]);\r\n\r\n    // Collapse expanded category lists when clicking outside of category chip groups\r\n    useEffect(() => {\r\n        const onDocClick = (e) => {\r\n            const target = e.target;\r\n            const inSticky = stickyCatsRef.current && stickyCatsRef.current.contains(target);\r\n            const inMain = mainCatsRef.current && mainCatsRef.current.contains(target);\r\n            if (!inSticky && !inMain) {\r\n                if (showAllStickyCategories) setShowAllStickyCategories(false);\r\n                if (showAllCategories) setShowAllCategories(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', onDocClick);\r\n        return () => document.removeEventListener('mousedown', onDocClick);\r\n    }, [showAllStickyCategories, showAllCategories]);\r\n\r\n    // Horizontal scroll for sticky navbar categories (non-passive to prevent default page scroll)\r\n    useEffect(() => {\r\n        const el = stickyCatsRef.current;\r\n        if (!el) return;\r\n\r\n        let targetScroll = el.scrollLeft;\r\n        let isAnimating = false;\r\n        let animationFrameId;\r\n\r\n        const ease = 0.1; // Smoothness factor (lower is smoother/slower)\r\n\r\n        const animateScroll = () => {\r\n            if (!el) return;\r\n\r\n            // Linear interpolation\r\n            const diff = targetScroll - el.scrollLeft;\r\n\r\n            if (Math.abs(diff) < 0.5) {\r\n                el.scrollLeft = targetScroll;\r\n                isAnimating = false;\r\n                return;\r\n            }\r\n\r\n            el.scrollLeft += diff * ease;\r\n            animationFrameId = requestAnimationFrame(animateScroll);\r\n        };\r\n\r\n        const onWheel = (e) => {\r\n            if (e.deltaY !== 0) {\r\n                e.preventDefault();\r\n\r\n                // Update target scroll position\r\n                const maxScroll = el.scrollWidth - el.clientWidth;\r\n                targetScroll = Math.max(0, Math.min(maxScroll, targetScroll + e.deltaY));\r\n\r\n                if (!isAnimating) {\r\n                    isAnimating = true;\r\n                    // Sync target with current if we were stopped (prevents jumps if user scrolls after animation stopped)\r\n                    // But here we want to accumulate, so we just start the loop.\r\n                    // However, if we were stopped, targetScroll might be stale? \r\n                    // No, we just updated it based on current targetScroll. \r\n                    // Wait, if animation stopped, targetScroll == scrollLeft. \r\n                    // So we are good.\r\n                    // Actually, better to re-sync targetScroll to current scrollLeft + delta if we were idle?\r\n                    // No, because we want to maintain momentum if they scroll fast.\r\n                    // But if they stopped scrolling for a while, targetScroll is already at scrollLeft.\r\n                    // So it's fine.\r\n\r\n                    // One edge case: if external scroll happened (e.g. drag), targetScroll might be wrong.\r\n                    // So we should sync targetScroll on scroll event?\r\n                    // But we are overriding wheel. Drag is handled by browser native or other handlers.\r\n                    // Let's just sync targetScroll to el.scrollLeft + deltaY if not animating?\r\n                    // If not animating, targetScroll IS el.scrollLeft (approximately).\r\n                    // So let's just ensure we start from current position if we are starting fresh.\r\n                    if (Math.abs(targetScroll - el.scrollLeft) > 100) {\r\n                        // If we drifted too far (e.g. manual drag), reset target\r\n                        targetScroll = el.scrollLeft + e.deltaY;\r\n                    }\r\n\r\n                    animateScroll();\r\n                }\r\n            }\r\n        };\r\n\r\n        // We also need to update targetScroll if the user scrolls manually (e.g. touch/drag)\r\n        // so that the next wheel event doesn't jump back.\r\n        const onScroll = () => {\r\n            if (!isAnimating) {\r\n                targetScroll = el.scrollLeft;\r\n            }\r\n        };\r\n\r\n        el.addEventListener('wheel', onWheel, { passive: false });\r\n        el.addEventListener('scroll', onScroll);\r\n\r\n        return () => {\r\n            el.removeEventListener('wheel', onWheel);\r\n            el.removeEventListener('scroll', onScroll);\r\n            cancelAnimationFrame(animationFrameId);\r\n        };\r\n    }, [showStickyNav]);\r\n\r\n    // Fallback scroll listener in case IntersectionObserver doesn't trigger (some edge browsers / dynamic layout changes)\r\n    useEffect(() => {\r\n        let ticking = false;\r\n        const handleScrollFallback = () => {\r\n            if (!categoryHeadingRef.current) return;\r\n            if (!ticking) {\r\n                window.requestAnimationFrame(() => {\r\n                    const rect = categoryHeadingRef.current.getBoundingClientRect();\r\n                    const shouldShow = rect.top <= 0; // show only when heading reaches/above top edge\r\n                    setShowStickyNav(prev => {\r\n                        if (prev !== shouldShow) {\r\n                            if (shouldShow && stickyNavRef.current) {\r\n                                setStickyHeight(stickyNavRef.current.offsetHeight || 0);\r\n                            } else if (!shouldShow) {\r\n                                setStickyHeight(0);\r\n                            }\r\n                        }\r\n                        return shouldShow;\r\n                    });\r\n                    ticking = false;\r\n                });\r\n                ticking = true;\r\n            }\r\n        };\r\n        // Initial check on mount\r\n        handleScrollFallback();\r\n        window.addEventListener('scroll', handleScrollFallback, { passive: true });\r\n        return () => window.removeEventListener('scroll', handleScrollFallback);\r\n    }, []);\r\n\r\n    // Removed sticky mini nav observer; navbar will be static in the flow\r\n\r\n    // Listen to sidebar open state broadcast so sticky nav can align beneath it and not obscure logo.\r\n    useEffect(() => {\r\n        const handler = (e) => {\r\n            if (e && e.detail && typeof e.detail.open === 'boolean') {\r\n                setSidebarOpen(e.detail.open);\r\n            }\r\n        };\r\n        window.addEventListener('sidebar-state', handler);\r\n        return () => window.removeEventListener('sidebar-state', handler);\r\n    }, []);\r\n\r\n    // Scroll to top function\r\n    const scrollToTop = () => {\r\n        window.scrollTo({\r\n            top: 0,\r\n            behavior: 'smooth'\r\n        });\r\n    };\r\n\r\n    // Mobile and Desktop placeholder texts with fade effect\r\n    const mobilePlaceholderTexts = [\r\n        'Search AI tools...',\r\n        'Find the best ChatGPT alternatives...',\r\n        'Discover new AI models...',\r\n        'Type any tool name...',\r\n        'Find aitools picks',\r\n        'find Presentation ai'\r\n    ];\r\n\r\n    const desktopPlaceholderTexts = [\r\n        'Search All AI tools and collections...',\r\n        'Find AI coding assistants to speed up development...',\r\n        'Discover faceless video tools for anonymous creators...',\r\n        'Explore video generators for instant clips and edits...',\r\n        'Find writing tools to draft, edit, and refine text...',\r\n        'Search presentation tools to build slides quickly...',\r\n        'Locate short clippers for creating video highlights...',\r\n        'Discover marketing tools to grow your audience...',\r\n        'Find voice tools for synthesis, dubbing, and editing...',\r\n        'Search website builders for fast landing pages...',\r\n        'Explore image generators for custom visuals...',\r\n        'Find email assistance tools to write better emails...',\r\n        'Search chatbots for customer support and chat flows...',\r\n        'Discover user favorite tools loved by the community...',\r\n        'Find text humanizer AI to make copy sound natural...',\r\n        'Search spreadsheet tools for smarter data work...',\r\n        'Find meeting notes tools to transcribe and summarize...',\r\n        'Discover music generators to create original tracks...',\r\n        'Search data analysis tools for insights and reports...',\r\n        'Find AI diagrams to visualize processes and systems...',\r\n        'Find AI scheduling tools to manage meetings easily...',\r\n        'Search data visualization tools for beautiful charts...',\r\n        'Discover gaming tools for AI-assisted game design...',\r\n        'Find other tools across categories and utilities...',\r\n        'Search utility tools for quick one-off tasks...',\r\n        'Explore AI prompts to jumpstart creative workflows...',\r\n        'Find AI design tools for layouts, mockups, and UX...',\r\n        'Search logo generators to create brand marks fast...',\r\n        'Discover social media tools for content and analytics...',\r\n        'Find productivity tools to organize and automate work...',\r\n        'Explore AI-powered product tools for feature discovery...',\r\n        'Search for tools across categories, from A to Z...'\r\n    ];\r\n\r\n    const [currentPlaceholderIndex, setCurrentPlaceholderIndex] = useState(0);\r\n    const [placeholderFade, setPlaceholderFade] = useState(true);\r\n    const [isPlaceholderPaused, setIsPlaceholderPaused] = useState(false);\r\n\r\n    // Determine which placeholders to use based on screen size\r\n    const activePlaceholders = isMobile ? mobilePlaceholderTexts : desktopPlaceholderTexts;\r\n    const currentPlaceholderText = activePlaceholders[currentPlaceholderIndex];\r\n\r\n    // Pause rotation when searching or input is focused\r\n    useEffect(() => {\r\n        setIsPlaceholderPaused(isSearchFocused || searchQuery.length > 0);\r\n    }, [isSearchFocused, searchQuery]);\r\n\r\n    // Rotate placeholder with fade effect - 4 seconds for both mobile and desktop\r\n    useEffect(() => {\r\n        if (isPlaceholderPaused) return; // Don't rotate if paused\r\n\r\n        const fadeOutDuration = 300; // ms\r\n        const displayDuration = 4000; // 4 seconds for both mobile and desktop\r\n        const cycleDuration = displayDuration + fadeOutDuration;\r\n\r\n        const timer = setInterval(() => {\r\n            // Fade out\r\n            setPlaceholderFade(false);\r\n\r\n            // Change text after fade out\r\n            setTimeout(() => {\r\n                setCurrentPlaceholderIndex((prev) => (prev + 1) % activePlaceholders.length);\r\n                // Fade in\r\n                setPlaceholderFade(true);\r\n            }, fadeOutDuration);\r\n        }, cycleDuration);\r\n\r\n        return () => clearInterval(timer);\r\n    }, [isMobile, isPlaceholderPaused, activePlaceholders.length]);\r\n\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            setIsMobile(window.innerWidth < 768);\r\n        };\r\n\r\n        handleResize();\r\n        window.addEventListener('resize', handleResize);\r\n        return () => window.removeEventListener('resize', handleResize);\r\n    }, []);\r\n\r\n    const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';\r\n    const rawUsername = localStorage.getItem('username');\r\n    const username = rawUsername && rawUsername.trim() !== '' ? rawUsername : null;\r\n\r\n    const getGreeting = () => {\r\n        const hour = new Date().getHours();\r\n        if (hour < 12) return 'Good morning';\r\n        if (hour < 18) return 'Good afternoon';\r\n        return 'Good evening';\r\n    };\r\n    // Fetch approved tools from backend - NON-BLOCKING with Stale-While-Revalidate Cache\r\n    const [approvedTools, setApprovedTools] = useState(() => {\r\n        try {\r\n            const cached = typeof localStorage !== 'undefined' ? localStorage.getItem('cached_tools_data') : null;\r\n            return cached ? JSON.parse(cached) : [];\r\n        } catch {\r\n            return [];\r\n        }\r\n    });\r\n    const [isLoading, setIsLoading] = useState(() => {\r\n        try {\r\n            return !localStorage.getItem('cached_tools_data');\r\n        } catch {\r\n            return true;\r\n        }\r\n    });\r\n\r\n    // Robust API base: env var, else auto-detect for Vercel hosts, else localhost\r\n    const API_URL = useMemo(() => {\r\n        const envUrl = process.env.REACT_APP_API_URL && process.env.REACT_APP_API_URL.trim();\r\n        if (envUrl) return envUrl;\r\n        try {\r\n            const host = typeof window !== 'undefined' ? window.location.hostname : '';\r\n            const isVercel = /vercel\\.app$/.test(host);\r\n            if (isVercel) return 'https://ai-tools-hub-backend-u2v6.onrender.com';\r\n        } catch { }\r\n        return 'http://localhost:5000';\r\n    }, []);\r\n\r\n    // Memoize slug function\r\n    const toSlug = useCallback((val) => {\r\n        try {\r\n            return String(val || '')\r\n                .trim()\r\n                .toLowerCase()\r\n                .replace(/[^a-z0-9\\s-]/g, '')\r\n                .replace(/\\s+/g, '-')\r\n                .replace(/-+/g, '-');\r\n        } catch {\r\n            return '';\r\n        }\r\n    }, []);\r\n\r\n    // Helper: build a favicon URL fallback when a tool has no snapshot image\r\n    const getFaviconUrl = useCallback((url) => {\r\n        try {\r\n            if (!url) return null;\r\n            const { hostname } = new URL(url);\r\n            return `https://www.google.com/s2/favicons?domain=${hostname}&sz=128`;\r\n        } catch {\r\n            return null;\r\n        }\r\n    }, []);\r\n\r\n    // Helper: choose best image source for any tool (snapshot -> provided image -> favicon)\r\n    const getImageSrc = useCallback((tool) => {\r\n        if (!tool) return null;\r\n        if (tool.image) return tool.image;\r\n        if (tool.url) return getFaviconUrl(tool.url);\r\n        return null;\r\n    }, [getFaviconUrl]);\r\n\r\n    useEffect(() => {\r\n        // Fetch in background without blocking UI\r\n        const fetchApprovedTools = async () => {\r\n            const tick = Math.floor(Date.now() / 60000); // bust cache every minute\r\n            const base = `${API_URL}/api/tools/approved`;\r\n            const url = `${base}?t=${tick}`;\r\n            try {\r\n                let res = await fetch(url, {\r\n                    cache: 'no-store',\r\n                    headers: { 'Cache-Control': 'no-cache' }\r\n                });\r\n                let json = await res.json();\r\n                if (!(res.ok && json.tools && Array.isArray(json.tools))) {\r\n                    // Fallback: try once more with a hard-bust timestamp\r\n                    const url2 = `${base}?t=${Date.now()}`;\r\n                    res = await fetch(url2, { cache: 'no-store', headers: { 'Cache-Control': 'no-cache' } });\r\n                    json = await res.json();\r\n                }\r\n                if (res.ok && json.tools && Array.isArray(json.tools)) {\r\n                    const validTools = json.tools.filter(tool => tool && tool.name);\r\n                    setApprovedTools(validTools);\r\n                    // Update cache\r\n                    localStorage.setItem('cached_tools_data', JSON.stringify(validTools));\r\n                } else {\r\n                    // If fetch fails but we have cache, keep cache (don't wipe it)\r\n                    if (approvedTools.length === 0) setApprovedTools([]);\r\n                }\r\n            } catch (err) {\r\n                console.error('Failed to fetch approved tools:', err);\r\n                // Keep cache if exists\r\n                if (approvedTools.length === 0) setApprovedTools([]);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n        // Fetch immediately without delay\r\n        fetchApprovedTools();\r\n    }, [API_URL]);\r\n\r\n    // Convert approved tools from database to display format with NEW badge\r\n    const convertedApprovedTools = useMemo(() => {\r\n        console.log(' Converting approved tools, count:', approvedTools.length);\r\n\r\n        const buildSnapshotUrl = (snap) => {\r\n            if (!snap) return null;\r\n            try {\r\n                if (/^https?:\\/\\//i.test(snap)) return snap;\r\n                const withLeading = snap.startsWith('/') ? snap : `/${snap}`;\r\n                return `${API_URL}${withLeading}`;\r\n            } catch {\r\n                return null;\r\n            }\r\n        };\r\n\r\n        const converted = approvedTools\r\n            .filter(tool => tool && tool.name)\r\n            .map((tool) => {\r\n                const snapshot = buildSnapshotUrl(tool.snapshotUrl);\r\n                const fallback = !snapshot ? getFaviconUrl(tool.url) : null;\r\n                const rawCategory = tool.category || 'utility-tools';\r\n                const normalizedCategory = toSlug(rawCategory) || 'utility-tools';\r\n                const parsed = Date.parse(tool.createdAt || tool.updatedAt || '');\r\n                const safeTime = isNaN(parsed) ? Date.now() : parsed;\r\n\r\n                return {\r\n                    _id: tool._id,\r\n                    name: tool.name,\r\n                    shortDescription: tool.shortDescription || '',\r\n                    description: tool.description || '',\r\n                    link: tool.url || '#',\r\n                    url: tool.url || '#',\r\n                    image: snapshot || fallback || null,\r\n                    isNew: true,\r\n                    category: normalizedCategory,\r\n                    dateAdded: safeTime,\r\n\r\n                    pricing: tool.pricing || 'Freemium',\r\n                    isAiToolsChoice: tool.isAiToolsChoice || false,\r\n                };\r\n            });\r\n        return converted;\r\n    }, [approvedTools, API_URL, getFaviconUrl, toSlug]);\r\n\r\n    const mergedToolsData = useMemo(() => {\r\n        const staticCategoriesMap = new Map(\r\n            toolsData.map(cat => [cat.id, { ...cat, tools: [...cat.tools] }])\r\n        );\r\n        const newCategoriesMap = new Map();\r\n\r\n        convertedApprovedTools.forEach(tool => {\r\n            if (staticCategoriesMap.has(tool.category)) {\r\n                staticCategoriesMap.get(tool.category).tools.push(tool);\r\n            } else {\r\n                if (!newCategoriesMap.has(tool.category)) {\r\n                    const displayName = tool.category.replace(/-/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase());\r\n                    newCategoriesMap.set(tool.category, {\r\n                        id: tool.category,\r\n                        name: displayName,\r\n                        description: `Tools for ${displayName}`,\r\n                        tools: []\r\n                    });\r\n                }\r\n                newCategoriesMap.get(tool.category).tools.push(tool);\r\n            }\r\n        });\r\n        return [...staticCategoriesMap.values(), ...newCategoriesMap.values()];\r\n    }, [convertedApprovedTools]);\r\n\r\n    // Mobile Categories (Sorted A-Z) - Derived from merged data to include server categories\r\n    const mobileCategories = useMemo(() => {\r\n        const allCats = mergedToolsData.map(cat => ({ id: cat.id, label: cat.name }));\r\n        const sorted = allCats.sort((a, b) => a.label.localeCompare(b.label));\r\n        return [{ id: 'all', label: 'Show All' }, ...sorted];\r\n    }, [mergedToolsData]);\r\n\r\n    const toolList = useMemo(() =>\r\n        mergedToolsData.flatMap((category) =>\r\n            category.tools.map((tool) => ({ ...tool, category: category.id }))\r\n        ), [mergedToolsData]);\r\n\r\n    const fuse = useMemo(() => {\r\n        let FuseCtor = null;\r\n        try {\r\n            if (typeof FuseNamespace === 'function') FuseCtor = FuseNamespace;\r\n            else if (FuseNamespace && FuseNamespace.default) FuseCtor = FuseNamespace.default;\r\n            else FuseCtor = FuseNamespace;\r\n        } catch (e) { FuseCtor = FuseNamespace; }\r\n\r\n        try {\r\n            return new FuseCtor(toolList, { keys: ['name', 'description', 'tags'], threshold: 0.4 });\r\n        } catch (err) { return { search: () => [] }; }\r\n    }, [toolList]);\r\n\r\n    const handleInputChange = (e) => {\r\n        const value = e.target.value;\r\n        setSearchQuery(value);\r\n\r\n        // Auto-scroll to tools on mobile when typing\r\n        if (isMobile && value.trim().length > 0) {\r\n             const targetEl = document.getElementById('mobile-category-tabs') || document.getElementById('tools');\r\n             if (targetEl) {\r\n                 const rect = targetEl.getBoundingClientRect();\r\n                 // If the element is far down (hero visible), scroll it up.\r\n                 // Sticky header is 64px. If top is > 150, it's likely below the fold or hero is showing.\r\n                 if (rect.top > 150) {\r\n                    targetEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                 }\r\n             }\r\n        }\r\n\r\n        setActiveSuggestionIndex(-1);\r\n        clearTimeout(debounceRef.current);\r\n        debounceRef.current = setTimeout(() => {\r\n            if (value.trim()) {\r\n                const results = fuse.search(value).map((r) => r.item).filter(item => item && item.name);\r\n                setSuggestions(results.slice(0, 5));\r\n            } else { setSuggestions([]); }\r\n        }, 150);\r\n    };\r\n\r\n    const filteredTools = useMemo(() => {\r\n        let result = mergedToolsData\r\n            .map((category) => ({\r\n                ...category,\r\n                tools: category.tools.filter((tool) => {\r\n                    if (!tool || !tool.name) return false;\r\n\r\n                    // 1. Search Filter\r\n                    const searchLower = searchQuery.toLowerCase();\r\n                    const matchesSearch = searchQuery\r\n                        ? tool.name.toLowerCase().includes(searchLower) || (tool.description ? tool.description.toLowerCase() : '').includes(searchLower)\r\n                        : true;\r\n\r\n                    // 2. Category Filter\r\n                    // If activeFilter is 'all', matches everything.\r\n                    // If 'choice', matches only tools with isAiToolsChoice (across all categories).\r\n                    // Otherwise, matches only tools in the active category (which is handled by outer map/filter usually, but here we can be explicit).\r\n                    // Note: The outer `.map` iterates all categories. We should filter out tools that don't belong if we are strictly in a category view?\r\n                    // Actually, usually we filter the *Categories* array first.\r\n                    // But `mergedToolsData` is the source.\r\n                    \r\n                    let matchesCategory = true;\r\n                    if (activeFilter === 'choice') {\r\n                        matchesCategory = tool.isAiToolsChoice || tool.badge === 'Recommended' || tool.badge === \"Editor's Choice\";\r\n                    } else if (activeFilter !== 'all') {\r\n                        matchesCategory = category.id === activeFilter;\r\n                    }\r\n\r\n                    // 3. Pricing Filter\r\n                    let matchesPricing = true;\r\n                    if (activePricing !== 'all') {\r\n                        const toolPricing = (tool.pricing || 'free').toLowerCase();\r\n                        if (activePricing === 'free') matchesPricing = toolPricing === 'free';\r\n                        else if (activePricing === 'freemium') matchesPricing = toolPricing === 'freemium';\r\n                        else if (activePricing === 'paid') matchesPricing = toolPricing === 'paid';\r\n                        else if (activePricing === 'open-source') matchesPricing = toolPricing === 'open source' || toolPricing === 'open-source';\r\n                    }\r\n\r\n                    // 4. Date Filter\r\n                    let matchesDate = true;\r\n                    const toolDate = new Date(tool.dateAdded || 0);\r\n                    const now = new Date();\r\n\r\n                    if (dateFilter.type === 'today') {\r\n                        matchesDate = toolDate.getDate() === now.getDate() &&\r\n                                      toolDate.getMonth() === now.getMonth() &&\r\n                                      toolDate.getFullYear() === now.getFullYear();\r\n                    } else if (dateFilter.type === 'month') {\r\n                        matchesDate = toolDate.getMonth() === now.getMonth() &&\r\n                                      toolDate.getFullYear() === now.getFullYear();\r\n                    } else if (dateFilter.type === 'custom' && dateFilter.value) {\r\n                         // Parse custom date (YYYY-MM-DD from input)\r\n                         // But we need to be careful about timezone. input=\"date\" returns YYYY-MM-DD.\r\n                         // new Date(\"YYYY-MM-DD\") is UTC.\r\n                         // We want to match local day.\r\n                         // Let's compare parts manually or use a helper.\r\n                         // Actually `new Date(string)` is usually UTC for hyphens.\r\n                         // Let's use string splitting to avoid timezone offset issues if possible, or force timezone consistency.\r\n                         // For simplicity, let's treat the input date as local components.\r\n                         const [y, m, d] = dateFilter.value.split('-').map(Number);\r\n                         // toolDate is local.\r\n                         matchesDate = toolDate.getDate() === d &&\r\n                                       toolDate.getMonth() === (m - 1) &&\r\n                                       toolDate.getFullYear() === y;\r\n                    }\r\n\r\n                    // 5. Name Filter (Letter)\r\n                    let matchesNameFilter = true;\r\n                    if (nameFilter.length > 0) {\r\n                        const firstChar = tool.name.trim().charAt(0).toUpperCase();\r\n                        matchesNameFilter = nameFilter.includes(firstChar);\r\n                    }\r\n\r\n                    return matchesSearch && matchesCategory && matchesPricing && matchesDate && matchesNameFilter;\r\n                }),\r\n            }))\r\n            .filter((category) => category.tools.length > 0);\r\n\r\n        // Sorting Logic applied to each category's tools\r\n        result = result.map(category => ({\r\n            ...category,\r\n            tools: [...category.tools].sort((a, b) => {\r\n                const nameA = a.name.toLowerCase();\r\n                const nameB = b.name.toLowerCase();\r\n                \r\n                if (sortOrder === 'name_asc') return nameA.localeCompare(nameB);\r\n                if (sortOrder === 'name_desc') return nameB.localeCompare(nameA);\r\n                \r\n                // fallback or default: 'date' (Newest First)\r\n                return (b.dateAdded || 0) - (a.dateAdded || 0);\r\n            })\r\n        }));\r\n\r\n        return result;\r\n    }, [searchQuery, activeFilter, activePricing, dateFilter, sortOrder, nameFilter, mergedToolsData]);\r\n\r\n    const allToolsFlatSorted = useMemo(() => {\r\n        const all = filteredTools.flatMap(category => category.tools.filter(t => t && t.name));\r\n        // filteredTools is already sorted by sortOrder inside categories.\r\n        // If we want a global flat list sorted, we must resort it unless categories don't matter.\r\n        // Actually this flat list seems to be for search or mobile?\r\n        // Let's re-sort it to be safe.\r\n        return all.sort((a, b) => {\r\n             const nameA = a.name.toLowerCase();\r\n             const nameB = b.name.toLowerCase();\r\n             if (sortOrder === 'name_asc') return nameA.localeCompare(nameB);\r\n             if (sortOrder === 'name_desc') return nameB.localeCompare(nameA);\r\n             return (b.dateAdded || 0) - (a.dateAdded || 0);\r\n        });\r\n    }, [filteredTools, sortOrder]);\r\n\r\n    useEffect(() => {\r\n        const id = location.hash?.replace('#', '');\r\n        if (!id) return;\r\n        if (id === 'all') {\r\n            setActiveFilter('all');\r\n            setTimeout(() => {\r\n                const toolsEl = document.getElementById('tools');\r\n                if (toolsEl) toolsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n            }, 50);\r\n            return;\r\n        }\r\n        if (id === 'choice') {\r\n            setActiveFilter('choice');\r\n            setTimeout(() => {\r\n                const toolsEl = document.getElementById('tools');\r\n                if (toolsEl) toolsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n            }, 50);\r\n            return;\r\n        }\r\n        const allCategoryIds = mergedToolsData.map(c => c.id);\r\n        if (allCategoryIds.includes(id)) {\r\n            setActiveFilter(id);\r\n            setTimeout(() => {\r\n                const el = document.getElementById('tools');\r\n                if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n            }, 80);\r\n        }\r\n    }, [location.hash, mergedToolsData]);\r\n\r\n    // Ref to track if it's the first mount to avoid resetting page from URL\r\n    const isFirstRun = useRef(true);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (showMoreMenu && !event.target.closest('.more-menu-container')) {\r\n                setShowMoreMenu(false);\r\n            }\r\n        };\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, [showMoreMenu]);\r\n\r\n    useEffect(() => {\r\n        // Skip the first run to allow state initialization from URL\r\n        if (isFirstRun.current) {\r\n            isFirstRun.current = false;\r\n            return;\r\n        }\r\n\r\n        setPage(1);\r\n        setMobileVisibleCount(PAGE_SIZE);\r\n        if (!isMobile) {\r\n            const params = new URLSearchParams(location.search || '');\r\n            if (params.get('page') !== '1') {\r\n                params.set('page', '1');\r\n                history.replace({ pathname: location.pathname, search: params.toString(), hash: location.hash });\r\n            }\r\n        }\r\n    }, [searchQuery, activeFilter, activePricing, sortOrder, isMobile]);\r\n\r\n    const updatePage = useCallback((next) => {\r\n        if (isMobile) return;\r\n        setPage(next);\r\n        const params = new URLSearchParams(location.search || '');\r\n        params.set('page', String(next));\r\n        history.replace({ pathname: location.pathname || '/', search: params.toString(), hash: location.hash });\r\n        setTimeout(() => {\r\n            const toolsEl = document.getElementById('tools');\r\n            if (toolsEl) toolsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }, 50);\r\n    }, [history, location.pathname, location.search, location.hash, isMobile]);\r\n\r\n    const loadMoreMobile = useCallback(() => setMobileVisibleCount(c => c + PAGE_SIZE), []);\r\n\r\n    const buildPageList = useCallback((totalPages, current) => {\r\n        if (totalPages <= 7) return Array.from({ length: totalPages }, (_, i) => i + 1);\r\n        const pages = [];\r\n        const add = (p) => { if (!pages.includes(p)) pages.push(p); };\r\n        add(1);\r\n        const windowStart = Math.max(2, current - 1);\r\n        const windowEnd = Math.min(totalPages - 1, current + 1);\r\n        if (windowStart > 2) pages.push('');\r\n        for (let p = windowStart; p <= windowEnd; p++) add(p);\r\n        if (windowEnd < totalPages - 1) pages.push('');\r\n        add(totalPages);\r\n        return pages;\r\n    }, []);\r\n\r\n    const trendingTools = useMemo(() => toolList.filter((t) => t.badge === 'Recommended'), [toolList]);\r\n    const newTools = useMemo(() => toolList.filter((t) => t.isNew), [toolList]);\r\n    const categories = useMemo(() => {\r\n        const base = [{ id: 'all', name: 'All Tools' }, ...mergedToolsData];\r\n        return base.map(cat => ({\r\n            id: cat.id,\r\n            label: cat.name.replace(/-/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase())\r\n        }));\r\n    }, [mergedToolsData]);\r\n\r\n    const { visibleCategories, hiddenCategories } = useMemo(() => {\r\n        const priorityIds = [\r\n            'all', 'ai-coding-assistants', 'faceless-video', 'video-generators', 'writing-tools', \r\n            'presentation-tools', 'short-clippers', 'marketing-tools', 'voice-tools', 'website-builders'\r\n        ];\r\n        // Get priority items in order\r\n        const priority = priorityIds.map(id => categories.find(c => c.id === id)).filter(Boolean);\r\n        // Get rest items (excluding priority ones)\r\n        const rest = categories.filter(c => !priorityIds.includes(c.id));\r\n        \r\n        // Combine: Priority (Top 10) + Rest \r\n        // Note: Use only first 10 of priority as visible if we strictly want 10. \r\n        // Logic: The requirement is Top 10 visible. \r\n        // So we take the full combined list and slice it.\r\n        const all = [...priority, ...rest];\r\n        return {\r\n            visibleCategories: all.slice(0, 10),\r\n            hiddenCategories: all.slice(10)\r\n        };\r\n    }, [categories]);\r\n\r\n    const debugMode = (() => {\r\n        try { return new URLSearchParams(location.search || '').get('debug') === '1'; }\r\n        catch { return false; }\r\n    })();\r\n\r\n    // Categories logic\r\n    const curatedBase = [\r\n        'all',\r\n        'ai-coding-assistants',\r\n        'faceless-video',\r\n        'video-generators',\r\n        'writing-tools',\r\n        'presentation-tools',\r\n        'short-clippers',\r\n        'marketing-tools',\r\n        'voice-tools',\r\n        'website-builders',\r\n        'image-generators',\r\n        'email-assistance',\r\n        'chatbots',\r\n        'music-generators',\r\n        'data-analysis',\r\n        'gaming-tools',\r\n        'ai-diagrams',\r\n        'ai-scheduling',\r\n        'data-visualization',\r\n        'utility-tools',\r\n        'Portfolio',\r\n        'text-humanizer-ai',\r\n        'meeting-notes',\r\n        'spreadsheet-tools'\r\n    ];\r\n\r\n    const labelFor = (id) => (\r\n        id === 'all' ? 'All' :\r\n            id === 'ai-coding-assistants' ? 'Ai Coding Assistants' :\r\n                id === 'faceless-video' ? 'Faceless Video' :\r\n                    id === 'video-generators' ? 'Video Generators' :\r\n                        id === 'writing-tools' ? 'Writing Tools' :\r\n                            id === 'presentation-tools' ? 'Presentation Tools' :\r\n                                id === 'short-clippers' ? 'Short Clippers' :\r\n                                    id === 'marketing-tools' ? 'Marketing Tools' :\r\n                                        id === 'voice-tools' ? 'Voice Tools' :\r\n                                            id === 'website-builders' ? 'Website Builders' :\r\n                                                id === 'image-generators' ? 'Image Generators' :\r\n                                                    id === 'email-assistance' ? 'Email Assistance' :\r\n                                                        id === 'chatbots' ? 'Chatbots' :\r\n                                                            id === 'music-generators' ? 'Music Generators' :\r\n                                                                id === 'data-analysis' ? 'Data Analysis' :\r\n                                                                    id === 'gaming-tools' ? 'Gaming Tools' :\r\n                                                                        id === 'ai-diagrams' ? 'Ai Diagrams' :\r\n                                                                            id === 'ai-scheduling' ? 'Ai Scheduling' :\r\n                                                                                id === 'data-visualization' ? 'Data Visualization' :\r\n                                                                                    id === 'utility-tools' ? 'Utility Tools' :\r\n                                                                                        id === 'Portfolio' ? 'Portfolio' :\r\n                                                                                            id === 'text-humanizer-ai' ? 'Text Humanizer Ai' :\r\n                                                                                                id === 'meeting-notes' ? 'Meeting Notes' :\r\n                                                                                                    id === 'spreadsheet-tools' ? 'Spreadsheet Tools' :\r\n                                                                                                        id === 'choice' ? 'Admin Choice' :\r\n                                                                                                            id.replace(/-/g, ' ').replace(/\\b\\w/g, c => c.toUpperCase())\r\n    );\r\n\r\n    const userCats = Array.from(new Set((convertedApprovedTools || []).map(t => t.category).filter(Boolean)));\r\n    const dataCats = toolsData.map(c => c.id);\r\n    const allSet = Array.from(new Set(['all', ...curatedBase.filter(id => id !== 'all'), ...dataCats, ...userCats]));\r\n    const extra = allSet.filter(id => !curatedBase.includes(id));\r\n    const collapsed = [...curatedBase, '__more__'];\r\n    const expanded = [...curatedBase, ...extra];\r\n    const categoriesToShow = showAllCategories ? expanded : collapsed;\r\n\r\n    return (\r\n        <>\r\n            <LazyMotion features={domAnimation}>\r\n                {/* Changed overflow-hidden to visible (default) to allow sticky children to work reliably */}\r\n                <div className=\"min-h-screen text-white relative\">\r\n                    {debugMode && (\r\n                        <div className=\"fixed top-2 left-2 z-[1000] p-3 rounded-lg bg-black/70 text-xs font-mono border border-white/20 shadow-lg space-y-1\">\r\n                            <div><strong>DEBUG</strong></div>\r\n                            <div>API_URL: {API_URL}</div>\r\n                            <div>approvedTools: {approvedTools.length}</div>\r\n                            <div>convertedApprovedTools: {convertedApprovedTools.length}</div>\r\n                            <div>merged toolList: {toolList.length}</div>\r\n                            <div>activeFilter: {activeFilter}</div>\r\n                            <div>searchQuery: {searchQuery || '(empty)'}</div>\r\n                        </div>\r\n                    )}\r\n                    {/* Global Single Background for Entire Page */}\r\n                    <div className=\"fixed inset-0 z-0\">\r\n                        {/* Base gradient background - Deep Navy Blue */}\r\n                        <div className=\"absolute inset-0 bg-gradient-to-br from-[#1a1d3a] via-[#252847] to-[#1a1d3a]\" />\r\n                        {/* Background image layer for Home page */}\r\n                        <div\r\n                            aria-hidden=\"true\"\r\n                            className=\"absolute inset-0 bg-center bg-no-repeat bg-cover opacity-60 animate-subtle-zoom\"\r\n                            style={{\r\n                                backgroundImage: `url(${process.env.PUBLIC_URL || ''}/Images/home-bg.jpg)`,\r\n                                transformOrigin: 'center center',\r\n                                backgroundBlendMode: 'soft-light'\r\n                            }}\r\n                        />\r\n\r\n                        {/* Radial gradient overlays for depth */}\r\n                        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_top_left,_var(--tw-gradient-stops))] from-blue-600/15 via-transparent to-transparent\" />\r\n                        <div className=\"absolute inset-0 bg-black\" />\r\n                        <div className=\"absolute inset-0 bg-[radial-gradient(ellipse_at_bottom,_var(--tw-gradient-stops))] from-cyan-600/10 via-transparent to-transparent\" />\r\n\r\n\r\n                        <style>{`\r\n                            @keyframes gridMove {\r\n                                0% { background-position: 0 0; }\r\n\r\n                                100% { background-position: 0 60px; }\r\n                            }\r\n                        `}</style>\r\n\r\n                        {/* Animated gradient orbs - Enhanced with Framer Motion & Color Shift */}\r\n\r\n                    </div >\r\n\r\n                    {/* Sidebar has been moved to a global component (src/components/Sidebar.jsx) so it appears on every route */}\r\n\r\n                    {/* Unified Sticky Navigation (Search + Categories) */}\r\n                    {/* Fixed Nav removed in favor of in-flow Sticky Nav */}\r\n\r\n                    {/* Spacer to prevent collision with content when sticky bar is visible */}\r\n                    {\r\n                        showStickyNav && (\r\n                            <div aria-hidden=\"true\" className=\"w-full\" style={{ height: stickyHeight || 72 }} />\r\n                        )\r\n                    }\r\n\r\n                    {/* Hero Section - Dominic Style - Clean, Dark, Bold */}\r\n                    <section\r\n                        ref={searchSectionRef}\r\n                        className={`relative pt-32 pb-8 md:pb-24 px-6 sm:px-12 lg:px-24 z-20 flex flex-col transition-opacity duration-300 ${showStickyNav ? 'opacity-0 pointer-events-none select-none' : 'opacity-100'}`}\r\n                        aria-hidden={showStickyNav ? 'true' : 'false'}\r\n                    >\r\n                        {/* Background Elements - Minimal & Dark */}\r\n                        <div className=\"absolute inset-0 z-0 pointer-events-none overflow-hidden bg-black rounded-b-[60px]\">\r\n                             {/* Gradient overlay for bottom fade only */}\r\n                            <div className=\"absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent z-10\" />\r\n                            \r\n                            {/* Central Hero Image */}\r\n                            <div className=\"absolute inset-x-0 bottom-0 top-0 flex items-center justify-center opacity-100\">\r\n                                <img \r\n                                    src=\"/images/hero-person.png\" \r\n                                    alt=\"Hero Persona\" \r\n                                    className=\"h-[110%] w-auto object-cover object-top mask-image-linear-gradient opacity-90\"\r\n                                    style={{ maskImage: 'linear-gradient(to bottom, black 60%, transparent 100%)' }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"relative z-10 max-w-7xl w-full mx-auto grid lg:grid-cols-2 gap-12 items-center\">\r\n                            \r\n                            {/* Left Content */}\r\n                            <div className=\"text-left space-y-8\">\r\n                                {/* Badge */}\r\n                                <div className=\"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-white/5 border border-white/10 backdrop-blur-sm\">\r\n                                    <span className=\"w-2 h-2 rounded-full bg-[#FF6B00] animate-pulse\" />\r\n                                    <span className=\"text-xs font-semibold text-gray-300 tracking-wide uppercase\">Available for Everyone</span>\r\n                                </div>\r\n\r\n                                {/* Main Heading */}\r\n                                <div>\r\n                                    <h1 className=\"text-6xl sm:text-8xl lg:text-9xl font-black text-white tracking-tighter leading-[0.85]\">\r\n                                        Discover <br />\r\n                                        <span className=\"text-white\">Intelligent</span> <br />\r\n                                        Tools.\r\n                                    </h1>\r\n                                </div>\r\n\r\n                                {/* Subtitle */}\r\n                                <p className=\"text-lg text-gray-400 max-w-lg leading-relaxed font-light\">\r\n                                    Curated AI resources to elevate your workflow. <br/>\r\n                                    Find the perfect tool to \r\n                                    <span className=\"text-white font-medium\"> automate</span>, \r\n                                    <span className=\"text-white font-medium\"> create</span>, and \r\n                                    <span className=\"text-white font-medium\"> innovate</span>.\r\n                                </p>\r\n\r\n                                {/* CTA Button */}\r\n                                <div className=\"flex flex-wrap gap-4\">\r\n                                    <m.button\r\n                                        onClick={() => {\r\n                                            const toolsSection = document.getElementById('tools');\r\n                                            if (toolsSection) toolsSection.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                                        }}\r\n                                        whileHover={{ scale: 1.02 }}\r\n                                        whileTap={{ scale: 0.98 }}\r\n                                        className=\"group flex items-center gap-3 px-8 py-4 bg-[#FF6B00] hover:bg-[#ff8533] rounded-full text-white text-base font-bold transition-all shadow-lg shadow-orange-500/20\"\r\n                                    >\r\n                                        Explore Tools\r\n                                        <svg className=\"w-4 h-4 transition-transform group-hover:translate-x-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n                                        </svg>\r\n                                    </m.button>\r\n                                </div>\r\n\r\n                                {/* Mobile Stats Row (Fills gap) */}\r\n                                <div className=\"lg:hidden grid grid-cols-3 divide-x divide-white/10 border-t border-white/10 pt-6 mt-6\">\r\n                                    <div className=\"text-center px-2\">\r\n                                        <div className=\"text-2xl font-black text-white\">300+</div>\r\n                                        <div className=\"text-[10px] text-gray-500 font-medium uppercase tracking-wider mt-0.5\">Tools</div>\r\n                                    </div>\r\n                                    <div className=\"text-center px-2\">\r\n                                        <div className=\"text-2xl font-black text-white\">100%</div>\r\n                                        <div className=\"text-[10px] text-gray-500 font-medium uppercase tracking-wider mt-0.5\">Free</div>\r\n                                    </div>\r\n                                    <div className=\"text-center px-2\">\r\n                                        <div className=\"text-2xl font-black text-white\">20+</div>\r\n                                        <div className=\"text-[10px] text-gray-500 font-medium uppercase tracking-wider mt-0.5\">Cats</div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Right Content - Stats / Visuals */}\r\n                            <div className=\"hidden lg:flex flex-col gap-8 items-end text-right\">\r\n                                <div className=\"space-y-6\">\r\n                                     <div className=\"group\">\r\n                                        <h3 className=\"text-6xl font-black text-white group-hover:text-[#FF6B00] transition-colors duration-300\">300+</h3>\r\n                                        <p className=\"text-sm text-gray-500 font-medium uppercase tracking-widest mt-1\">AI Tools</p>\r\n                                     </div>\r\n                                     <div className=\"w-full h-px bg-white/10\" />\r\n                                     <div className=\"group\">\r\n                                        <h3 className=\"text-6xl font-black text-white group-hover:text-[#FF6B00] transition-colors duration-300\">100%</h3>\r\n                                        <p className=\"text-sm text-gray-500 font-medium uppercase tracking-widest mt-1\">Free & Verified</p>\r\n                                     </div>\r\n                                     <div className=\"w-full h-px bg-white/10\" />\r\n                                     <div className=\"group\">\r\n                                        <h3 className=\"text-6xl font-black text-white group-hover:text-[#FF6B00] transition-colors duration-300\">20+</h3>\r\n                                        <p className=\"text-sm text-gray-500 font-medium uppercase tracking-widest mt-1\">Categories</p>\r\n                                     </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n\r\n                    {/* Unified Sticky Navigation - In Flow */}\r\n                    {(!isMobile) && (\r\n                        <div className={`sticky top-0 z-50 ${isMobile ? '' : 'ml-20'}`}>\r\n                            <div className=\"bg-[#050505]/95 backdrop-blur-2xl border-b border-white/10 shadow-2xl\">\r\n                                <div className=\"max-w-7xl mx-auto px-4 pt-4 pb-2\">\r\n                                    <div className=\"flex flex-col md:flex-row items-center justify-between gap-6 mb-4\">\r\n                                        {/* Left: Title */}\r\n                                        <div className=\"text-center md:text-left\">\r\n                                            <h2 className=\"text-xl font-bold text-white flex items-center gap-2\">\r\n                                                <span className=\"text-[#FF6B00]\">Browse</span> by Category\r\n                                            </h2>\r\n                                            <p className=\"text-xs text-gray-400\">Explore tools organized by their purpose</p>\r\n                                        </div>\r\n\r\n                                        {/* Middle/Right: Search Bar (Integrated) */}\r\n                                        <div className=\"w-full md:w-[400px] relative group\">\r\n                                             <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none text-gray-500 group-focus-within:text-[#FF6B00] transition-colors\">\r\n                                                <FaSearch />\r\n                                             </div>\r\n                                             <input\r\n                                                type=\"text\"\r\n                                                placeholder=\"Search AI tools...\"\r\n                                                className=\"w-full bg-white/5 border border-white/10 rounded-xl pl-10 pr-4 py-2.5 text-sm text-white placeholder-gray-500 focus:outline-none focus:border-[#FF6B00]/50 focus:bg-white/10 transition-all shadow-inner\"\r\n                                                value={searchQuery}\r\n                                                onChange={handleInputChange}\r\n                                             />\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    {/* Category Pills - Custom Scrollbar */}\r\n                                    {/* Category Pills - Custom Scrollbar */}\r\n                                    <div className=\"relative group/cats flex items-center\">\r\n                                        <div className=\"flex-1 flex items-center gap-2 overflow-x-auto pb-1 scrollbar-hide mask-linear-fade\">\r\n                                            {visibleCategories.map((cat) => {\r\n                                                const isActive = activeFilter === cat.id;\r\n                                                return (\r\n                                                    <button\r\n                                                        key={cat.id}\r\n                                                        onClick={() => setActiveFilter(cat.id)}\r\n                                                        className={`px-4 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all whitespace-nowrap border ${\r\n                                                            isActive \r\n                                                            ? 'bg-[#FF6B00] text-white border-[#FF6B00] shadow-lg shadow-orange-900/20' \r\n                                                            : 'bg-white/5 text-gray-400 border-white/10 hover:bg-white/10 hover:text-white hover:border-white/20'\r\n                                                        }`}\r\n                                                    >\r\n                                                        {cat.label}\r\n                                                    </button>\r\n                                                )\r\n                                            })}\r\n                                        </div>\r\n\r\n                                        {/* MORE BUTTON - Moved outside scroll container to prevent clipping */}\r\n                                        {hiddenCategories.length > 0 && (\r\n                                            <div className=\"relative more-menu-container ml-2 shrink-0\">\r\n                                                <button \r\n                                                    onClick={() => setShowMoreMenu(!showMoreMenu)}\r\n                                                    className={`px-4 py-1.5 text-xs font-bold uppercase tracking-wider rounded-lg transition-all whitespace-nowrap border flex items-center gap-2 ${\r\n                                                        showMoreMenu \r\n                                                        ? 'bg-white/10 text-white border-white/20' \r\n                                                        : 'bg-white/5 text-gray-400 border-white/10 hover:bg-white/10 hover:text-white hover:border-white/20'\r\n                                                    }`}\r\n                                                >\r\n                                                    More\r\n                                                    <FaChevronRight className={`text-[10px] transition-transform ${showMoreMenu ? 'rotate-90' : 'rotate-0'}`} />\r\n                                                </button>\r\n\r\n                                                {/* Dropdown Menu */}\r\n                                                {showMoreMenu && (\r\n                                                    <div className=\"absolute top-full right-0 mt-2 w-64 bg-[#0A0A0A] border border-white/10 rounded-xl shadow-2xl z-[60] overflow-hidden backdrop-blur-xl p-2 grid grid-cols-1 gap-1 max-h-[60vh] overflow-y-auto custom-modal-scrollbar\">\r\n                                                        {hiddenCategories.map((cat) => {\r\n                                                            const isActive = activeFilter === cat.id;\r\n                                                            return (\r\n                                                                <button\r\n                                                                    key={cat.id}\r\n                                                                    onClick={() => {\r\n                                                                        setActiveFilter(cat.id);\r\n                                                                        setShowMoreMenu(false);\r\n                                                                    }}\r\n                                                                    className={`w-full text-left px-4 py-3 text-xs font-bold uppercase tracking-wider rounded-lg transition-all ${\r\n                                                                        isActive \r\n                                                                        ? 'bg-[#FF6B00] text-white shadow-md' \r\n                                                                        : 'text-gray-400 hover:bg-white/5 hover:text-white'\r\n                                                                    }`}\r\n                                                                >\r\n                                                                    {cat.label}\r\n                                                                </button>\r\n                                                            )\r\n                                                        })}\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n                                        )}\r\n                                    {/* Fade Edges */}\r\n                                        <div className=\"absolute inset-y-0 right-0 w-12 bg-gradient-to-l from-[#050505] to-transparent pointer-events-none\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n\r\n\r\n\r\n                    {/* New 'Dominic' Theme Sections - Placed after Hero */}\r\n\r\n\r\n                    {/* Mobile Top Nav - Logo + Categories/Picks (Mobile Only) */}\r\n                    {\r\n                        isMobile && (\r\n                            <MobileTopNav\r\n                                categories={mobileCategories}\r\n                                searchQuery={searchQuery}\r\n                                onSearchChange={handleInputChange}\r\n                                onCategorySelect={(id) => {\r\n                                    setActiveFilter(id);\r\n                                    setTimeout(() => {\r\n                                        if (id === 'all') {\r\n                                            const toolsEl = document.getElementById('tools');\r\n                                            if (toolsEl) toolsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                                        } else {\r\n                                            const el = document.querySelector(`[data-category=\"${id}\"]`);\r\n                                            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                                        }\r\n                                    }, 50);\r\n                                }}\r\n                                onChoiceClick={() => {\r\n                                    setActiveFilter('choice');\r\n                                    // history.push('/#choice'); // Optional: update URL\r\n                                    setTimeout(() => {\r\n                                        const toolsEl = document.getElementById('tools');\r\n                                        if (toolsEl) toolsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                                    }, 50);\r\n                                }}\r\n                                onLogoClick={() => {\r\n                                    setActiveFilter('all');\r\n                                    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n                                }}\r\n                            />\r\n                        )\r\n                    }\r\n\r\n                    {/* Mobile Top Margin (accounts for fixed MobileTopNav) */}\r\n                    {isMobile && <div className=\"h-16 md:hidden\" />}\r\n\r\n                    {/* Mobile Tools FAB and Categories Drop-up  removed in favor of MobileCategoryTabs */}\r\n\r\n                    {/* Mobile Category Tabs (static, non-sticky) */}\r\n                    {\r\n                        isMobile && (\r\n                                <MobileCategoryTabs\r\n                                    categories={[\r\n                                        { id: 'all', label: \"New Tools\" },\r\n                                        { id: 'chatbots', label: 'ChatGPT Alternatives' },\r\n                                        { id: 'ai-coding-assistants', label: 'AI Coding Assistants' },\r\n                                        ...categories.filter(c => !['all', 'chatbots', 'ai-coding-assistants'].includes(c.id))\r\n                                    ]}\r\n                                    activeId={activeFilter}\r\n                                    onSelect={(id) => {\r\n                                        setActiveFilter(id);\r\n                                        setTimeout(() => {\r\n                                            if (id === 'all') {\r\n                                                const toolsEl = document.getElementById('tools');\r\n                                                if (toolsEl) toolsEl.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                                            } else {\r\n                                                const el = document.querySelector(`[data-category=\"${id}\"]`);\r\n                                                if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n                                            }\r\n                                        }, 50);\r\n                                    }}\r\n                                />\r\n                        )\r\n                    }\r\n\r\n                    {/* Main Content */}\r\n                    <div className={`transition-all duration-300 relative z-10 ${isMobile ? '' : 'ml-20'}`}>\r\n                        <div className=\"w-full px-6 lg:px-12\">\r\n                            {/* Main content area - Full width */}\r\n                            <main className=\"w-full\">\r\n                                 {/* Carousels Section - Replaced with Cinematic Motion Carousel */}\r\n                                 {/* Carousels Section - Replaced with Cinematic Motion Carousel */}\r\n\r\n                                {/* Category Filter Buttons - Hidden on Mobile (replaced by tabs) */}\r\n                                {/* Category Filter Buttons - Integrated into sticky bar now */}\r\n\r\n                                {/* Tools Grid Section */}\r\n                                <section\r\n                                    id=\"tools\"\r\n                                    className=\"relative px-4 sm:px-6 lg:px-8 py-4\"\r\n                                >\r\n                                    {/* Breadcrumb Navigation */}\r\n                                    {activeFilter !== 'all' && (\r\n                                        <div className=\"max-w-7xl mx-auto mb-6 relative\">\r\n                                            <div className=\"flex items-center gap-2 text-sm text-gray-400\">\r\n                                                <button onClick={() => setActiveFilter('all')} className=\"hover:text-white transition-colors\">\r\n                                                    Home\r\n                                                </button>\r\n                                                <span>/</span>\r\n                                                <span className=\"text-white capitalize\">{activeFilter.replace(/-/g, ' ')}</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n\r\n                                    <div className=\"w-full relative flex flex-col lg:flex-row gap-8\">\r\n                                        {/* Left Sidebar: Filtering & Controls - Sticky */}\r\n                                        <aside className={`w-full lg:w-48 xl:w-64 flex-shrink-0 space-y-8 ${isMobile ? 'mb-6' : 'lg:sticky lg:top-32 lg:h-[calc(100vh-8rem)] lg:overflow-y-auto sidebar-scrollbar'}`}>\r\n                                            {/* Header Group */}\r\n                                            <div className=\"space-y-4\">\r\n                                                <div className=\"flex items-center\">\r\n                                                    <h2 className=\"text-2xl font-bold text-white whitespace-nowrap\">\r\n                                                        {activeFilter === 'all' ? 'All AI Tools' : labelFor(activeFilter)}\r\n                                                    </h2>\r\n                                                </div>\r\n                                                \r\n                                                {!isMobile && (\r\n                                                    <div className=\"text-sm font-medium text-gray-500 bg-white/5 py-1 px-3 rounded-md border border-white/5 inline-block\">\r\n                                                        {filteredTools.reduce((acc, cat) => acc + cat.tools.length, 0)} Tools\r\n                                                    </div>\r\n                                                )}\r\n                                            </div>\r\n\r\n                                            {/* Filters Stack */}\r\n                                            {!isMobile && (\r\n                                                <div className=\"space-y-4 pt-4 border-t border-white/5\">\r\n                                                    <div className=\"space-y-2\">\r\n                                                        <label className=\"text-xs text-gray-400 font-semibold uppercase tracking-wider ml-1\">Pricing</label>\r\n                                                        <PricingDropdown\r\n                                                            activePricing={activePricing}\r\n                                                            handlePricing={setActivePricing}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <div className=\"space-y-2\">\r\n                                                        <label className=\"text-xs text-gray-400 font-semibold uppercase tracking-wider ml-1\">Sort By</label>\r\n                                                        <UnifiedSortDropdown\r\n                                                            dateFilter={dateFilter}\r\n                                                            handleDateFilter={setDateFilter}\r\n                                                            sortOrder={sortOrder}\r\n                                                            handleSortOrder={setSortOrder}\r\n                                                            nameFilter={nameFilter}\r\n                                                            handleNameFilter={setNameFilter}\r\n                                                        />\r\n                                                    </div>\r\n                                                </div>\r\n                                            )}\r\n\r\n                                            {/* Mobile Controls */}\r\n                                            {isMobile && (\r\n                                                <div className=\"flex items-center justify-between\">\r\n                                                    <div className=\"origin-left\">\r\n                                                        <MobileSortMenu\r\n                                                            activePricing={activePricing}\r\n                                                            setActivePricing={setActivePricing}\r\n                                                            sortOrder={sortOrder}\r\n                                                            setSortOrder={setSortOrder}\r\n                                                        />\r\n                                                    </div>\r\n                                                    <button\r\n                                                        onClick={() => setViewMode(prev => (prev === 'grid' ? 'list' : 'grid'))}\r\n                                                        className=\"p-2 bg-white/10 rounded-lg border border-white/20 text-white\"\r\n                                                    >\r\n                                                        {viewMode === 'grid' ? (\r\n                                                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" /></svg>\r\n                                                        ) : (\r\n                                                            <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 6h16a1 1 0 000-2H4a1 1 0 000 2zm0 7h16a1 1 0 000-2H4a1 1 0 000 2zm0 7h16a1 1 0 000-2H4a1 1 0 000 2z\" /></svg>\r\n                                                        )}\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n                                        </aside>\r\n\r\n                                        {/* Main Content Grid */}\r\n                                        <div className=\"flex-1 min-w-0\">\r\n                                            {/* Desktop View Toggle (Aligned Right) */}\r\n                                            {!isMobile && (\r\n                                                <div className=\"flex justify-end mb-6\">\r\n                                                     <button\r\n                                                        onClick={() => setViewMode(prev => (prev === 'grid' ? 'list' : 'grid'))}\r\n                                                        title={viewMode === 'grid' ? 'Switch to list view' : 'Switch to grid view'}\r\n                                                        className={`backdrop-blur-md text-white rounded-lg border transition-all duration-200 p-2 ${\r\n                                                            viewMode === 'grid' ? 'bg-white/10 border-white/20 hover:bg-white/20' : 'bg-blue-600/20 border-blue-400/30 hover:bg-blue-600/30'\r\n                                                        }`}\r\n                                                    >\r\n                                                        {viewMode === 'grid' ? (\r\n                                                            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM11 13a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z\" /></svg>\r\n                                                        ) : (\r\n                                                            <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\"><path d=\"M4 6h16a1 1 0 000-2H4a1 1 0 000 2zm0 7h16a1 1 0 000-2H4a1 1 0 000 2zm0 7h16a1 1 0 000-2H4a1 1 0 000 2z\" /></svg>\r\n                                                        )}\r\n                                                    </button>\r\n                                                </div>\r\n                                            )}\r\n                                            {isLoading ? (\r\n                                                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                                                    {[...Array(6)].map((_, i) => (\r\n                                                        <div key={i} className=\"bg-gray-900/40 rounded-xl overflow-hidden border border-white/5 h-full flex flex-col\">\r\n                                                            <div className=\"h-48 bg-white/5 animate-pulse\" />\r\n                                                            <div className=\"p-5 space-y-4 flex-1\">\r\n                                                                <div className=\"h-6 bg-white/5 rounded w-3/4 animate-pulse\" />\r\n                                                                <div className=\"space-y-2\">\r\n                                                                    <div className=\"h-4 bg-white/5 rounded w-full animate-pulse\" />\r\n                                                                    <div className=\"h-4 bg-white/5 rounded w-2/3 animate-pulse\" />\r\n                                                                </div>\r\n                                                                <div className=\"pt-4 flex items-center gap-2\">\r\n                                                                    <div className=\"h-6 w-16 bg-white/5 rounded-full animate-pulse\" />\r\n                                                                    <div className=\"h-6 w-16 bg-white/5 rounded-full animate-pulse\" />\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    ))}\r\n                                                </div>\r\n                                            ) : filteredTools.length === 0 ? (\r\n                                                <div className=\"text-center py-20\">\r\n                                                    {typeof Player !== 'undefined' && Player ? (\r\n                                                        <Player autoplay loop src=\"https://assets4.lottiefiles.com/packages/lf20_pNx6yH.json\" style={{ height: '150px', width: '150px', margin: '0 auto' }} />\r\n                                                    ) : (\r\n                                                        <div style={{ height: 150, width: 150, margin: '0 auto' }} className=\"bg-gray-800 rounded-md\" />\r\n                                                    )}\r\n                                                    <h3 className=\"text-2xl font-semibold text-white mt-4\">No Tools Found</h3>\r\n                                                    <p className=\"text-gray-400 mt-2\">Try adjusting your search or filter to find what you're looking for.</p>\r\n                                                </div>\r\n\r\n                                            ) : (\r\n                                                 <>\r\n                                                    <div className=\"mb-12\">\r\n                                                        {(() => {\r\n                                                            const allTools = allToolsFlatSorted;\r\n                                                            const total = allTools.length;\r\n                                                            let displayed = allTools;\r\n\r\n                                                            if (isMobile) {\r\n                                                                displayed = allTools.slice(0, mobileVisibleCount);\r\n                                                            } else {\r\n                                                                const totalPages = Math.max(1, Math.ceil(total / PAGE_SIZE));\r\n                                                                const currentPage = Math.min(page, totalPages);\r\n                                                                const start = (currentPage - 1) * PAGE_SIZE;\r\n                                                                const end = start + PAGE_SIZE;\r\n                                                                // Bento Grid Slicing logic\r\n                                                                displayed = allTools.slice(start, end);\r\n                                                            }\r\n\r\n                                                            if (viewMode === 'grid') {\r\n                                                                return (\r\n                                                                    <>\r\n                                                                        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 auto-rows-[minmax(180px,auto)] gap-4 sm:gap-6 grid-flow-row-dense\">\r\n                                                                            {displayed.map((tool, idx) => {\r\n                                                                                // Bento Grid Pattern Logic\r\n                                                                                // Pattern spans 10 items\r\n                                                                                const patternIndex = idx % 10;\r\n                                                                                let spanClass = \"col-span-1 row-span-1\";\r\n                                                                                \r\n                                                                                // Only apply bento sizing on desktop\r\n                                                                                if (!isMobile) {\r\n                                                                                    if (patternIndex === 0) spanClass = \"md:col-span-2 md:row-span-2\"; // Big Feature\r\n                                                                                    else if (patternIndex === 3) spanClass = \"md:col-span-1 md:row-span-1 lg:row-span-1\"; \r\n                                                                                    else if (patternIndex === 6) spanClass = \"md:col-span-2 md:row-span-1\"; // Wide\r\n                                                                                    else if (patternIndex === 7) spanClass = \"md:row-span-2\"; // Tall\r\n                                                                                }\r\n\r\n                                                                                return (\r\n                                                                                    <ToolCard \r\n                                                                                        key={`${tool.name}-${tool.dateAdded || idx}`}\r\n                                                                                        tool={tool} \r\n                                                                                        className={spanClass}\r\n                                                                                        // Pass style or other props if needed\r\n                                                                                    />\r\n                                                                                );\r\n                                                                            })}\r\n                                                                        </div>\r\n                                                                        \r\n                                                                        {/* Mobile Load More */}\r\n                                                                        {isMobile && mobileVisibleCount < total && (\r\n                                                                            <div className=\"mt-8 flex justify-center\">\r\n                                                                                <button onClick={loadMoreMobile} className=\"px-6 py-3 rounded-xl bg-white/10 hover:bg-white/20 text-white text-sm font-medium backdrop-blur-md border border-white/20 hover:border-white/30 transition-all\">Load More ({Math.min(mobileVisibleCount + PAGE_SIZE, total)}/{total})</button>\r\n                                                                            </div>\r\n                                                                        )}\r\n\r\n                                                                        {/* Desktop Pagination */}\r\n                                                                        {!isMobile && total > PAGE_SIZE && (\r\n                                                                            <div className=\"mt-16 flex items-center justify-center gap-2 flex-wrap\">\r\n                                                                                <button onClick={() => updatePage(Math.max(1, page - 1))} disabled={page === 1} aria-label=\"Previous page\" className={`px-4 py-3 rounded-xl text-sm font-medium border transition-colors ${page === 1 ? 'border-white/5 bg-white/5 text-gray-500 cursor-not-allowed' : 'border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 text-white'}`}>Prev</button>\r\n                                                                                {buildPageList(Math.ceil(total / PAGE_SIZE), page).map((p, i) => (\r\n                                                                                    p === '' ? (\r\n                                                                                        <span key={`dots-${i}`} className=\"px-3 py-3 text-sm text-gray-400\"></span>\r\n                                                                                    ) : (\r\n                                                                                        <button key={`page-${p}`} onClick={() => updatePage(p)} aria-current={p === page ? 'page' : undefined} className={`w-10 h-10 flex items-center justify-center rounded-xl text-sm font-medium border transition-all ${p === page ? 'bg-[#FF6B00] text-white border-orange-500 shadow-lg shadow-orange-500/20' : 'border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white hover:border-white/20'}`}>{p}</button>\r\n                                                                                    )\r\n                                                                                ))}\r\n                                                                                <button onClick={() => updatePage(Math.min(Math.ceil(total / PAGE_SIZE), page + 1))} disabled={page >= Math.ceil(total / PAGE_SIZE)} aria-label=\"Next page\" className={`px-4 py-3 rounded-xl text-sm font-medium border transition-colors ${page >= Math.ceil(total / PAGE_SIZE) ? 'border-white/5 bg-white/5 text-gray-500 cursor-not-allowed' : 'border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 text-white'}`}>Next</button>\r\n                                                                            </div>\r\n                                                                        )}\r\n                                                                    </>\r\n                                                                );\r\n                                                            }\r\n                                                            return (\r\n                                                                <>\r\n                                                                    <div className=\"space-y-4\">\r\n                                                                        {displayed.map((tool, idx) => (\r\n                                                                            <article key={`${tool.name}-${tool.dateAdded || idx}`} className=\"flex items-start gap-5 p-4 rounded-3xl bg-[#12121A] border border-white/5 hover:border-white/10 hover:bg-white/[0.03] transition-all cursor-pointer group\" onClick={() => navigateToTool(tool)}>\r\n                                                                                <div className=\"w-20 h-20 flex-shrink-0 overflow-hidden rounded-2xl bg-black/30 border border-white/5 flex items-center justify-center\">\r\n                                                                                    {(() => {\r\n                                                                                        const src = getImageSrc(tool);\r\n                                                                                        if (src) {\r\n                                                                                            return (\r\n                                                                                                <img src={src} alt={tool.name} className=\"w-full h-full object-cover\" loading=\"lazy\" onError={(e) => {\r\n                                                                                                    e.currentTarget.style.display = 'none';\r\n                                                                                                    e.currentTarget.nextSibling.style.display = 'flex';\r\n                                                                                                }} />\r\n                                                                                            );\r\n                                                                                        }\r\n                                                                                        return null;\r\n                                                                                    })()}\r\n                                                                                     <div className=\"hidden w-full h-full items-center justify-center text-2xl\" style={{ display: !getImageSrc(tool) ? 'flex' : 'none' }}>\r\n                                                                                        \r\n                                                                                     </div>\r\n                                                                                </div>\r\n                                                                                <div className=\"flex-1 min-w-0 py-1\">\r\n                                                                                    <div className=\"flex items-start justify-between gap-3\">\r\n                                                                                        <h3 className=\"text-lg font-bold text-white group-hover:text-[#a78bfa] transition-colors truncate\">{tool.name}</h3>\r\n                                                                                        {tool.dateAdded && (<span className=\"text-xs text-gray-500 whitespace-nowrap\">{new Date(tool.dateAdded).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}</span>)}\r\n                                                                                    </div>\r\n                                                                                    <p className=\"mt-1 text-sm text-gray-400 line-clamp-2 leading-relaxed\">{tool.description}</p>\r\n                                                                                    <div className=\"mt-3 flex items-center gap-2 flex-wrap\">\r\n                                                                                        {tool.badge && (<span className=\"px-2 py-0.5 text-[10px] font-bold uppercase tracking-wider rounded-md bg-white/5 border border-white/10 text-gray-300\">{tool.badge}</span>)}\r\n                                                                                        {tool.pricing && (<span className={`px-2 py-0.5 text-[10px] font-medium rounded-md border ${\r\n                                                                                            tool.pricing === 'Free' ? 'text-emerald-400 border-emerald-500/20 bg-emerald-500/5' :\r\n                                                                                            'text-blue-400 border-blue-500/20 bg-blue-500/5'\r\n                                                                                        }`}>{tool.pricing}</span>)}\r\n                                                                                    </div>\r\n                                                                                </div>\r\n                                                                            </article>\r\n                                                                        ))}\r\n                                                                    </div>\r\n                                                                    {isMobile && mobileVisibleCount < total && (\r\n                                                                        <div className=\"mt-8 flex justify-center\">\r\n                                                                            <button onClick={loadMoreMobile} className=\"px-6 py-3 rounded-xl bg-white/10 hover:bg-white/20 text-white text-sm font-medium backdrop-blur-md border border-white/20 hover:border-white/30 transition-all\">Load More ({Math.min(mobileVisibleCount + PAGE_SIZE, total)}/{total})</button>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                    {!isMobile && total > PAGE_SIZE && (\r\n                                                                        <div className=\"mt-16 flex items-center justify-center gap-2 flex-wrap\">\r\n                                                                            <button onClick={() => updatePage(Math.max(1, page - 1))} disabled={page === 1} aria-label=\"Previous page\" className={`px-4 py-3 rounded-xl text-sm font-medium border transition-colors ${page === 1 ? 'border-white/5 bg-white/5 text-gray-500 cursor-not-allowed' : 'border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 text-white'}`}>Prev</button>\r\n                                                                            {buildPageList(Math.ceil(total / PAGE_SIZE), page).map((p, i) => (\r\n                                                                                p === '' ? (\r\n                                                                                    <span key={`dots-${i}`} className=\"px-3 py-3 text-sm text-gray-400\"></span>\r\n                                                                                ) : (\r\n                                                                                    <button key={`page-${p}`} onClick={() => updatePage(p)} aria-current={p === page ? 'page' : undefined} className={`w-10 h-10 flex items-center justify-center rounded-xl text-sm font-medium border transition-all ${p === page ? 'bg-[#FF6B00] text-white border-orange-500 shadow-lg shadow-orange-500/20' : 'border-white/10 bg-white/5 text-gray-300 hover:bg-white/10 hover:text-white hover:border-white/20'}`}>{p}</button>\r\n                                                                                )\r\n                                                                            ))}\r\n                                                                            <button onClick={() => updatePage(Math.min(Math.ceil(total / PAGE_SIZE), page + 1))} disabled={page >= Math.ceil(total / PAGE_SIZE)} aria-label=\"Next page\" className={`px-4 py-3 rounded-xl text-sm font-medium border transition-colors ${page >= Math.ceil(total / PAGE_SIZE) ? 'border-white/5 bg-white/5 text-gray-500 cursor-not-allowed' : 'border-white/10 bg-white/5 hover:bg-white/10 hover:border-white/20 text-white'}`}>Next</button>\r\n                                                                        </div>\r\n                                                                    )}\r\n                                                                </>\r\n                                                            );\r\n                                                        })()}\r\n                                                    </div>\r\n                                                </>\r\n                                            )}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                </section>\r\n                            </main>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                {/* Tool Detail Modal */}\r\n                {\r\n                    selectedTool && (\r\n                        <ToolDetailModal tool={selectedTool} onClose={closeModal} />\r\n                    )\r\n                }\r\n\r\n                {/* Scroll to Top Button */}\r\n                {\r\n                    showScrollTop && (\r\n                        <m.button\r\n                            initial={{ opacity: 0, y: 20 }}\r\n                            animate={{ opacity: 1, y: 0 }}\r\n                            exit={{ opacity: 0, y: 20 }}\r\n                            whileHover={{ scale: 1.1 }}\r\n                            whileTap={{ scale: 0.9 }}\r\n                            onClick={scrollToTop}\r\n                            className=\"fixed bottom-8 right-8 z-50 p-3 bg-[#FF6B00] hover:bg-[#ff8533] text-white rounded-full shadow-lg hover:shadow-xl transition-all duration-300\"\r\n                            aria-label=\"Scroll to top\"\r\n                        >\r\n                            <svg\r\n                                className=\"w-6 h-6\"\r\n                                fill=\"none\"\r\n                                stroke=\"currentColor\"\r\n                                viewBox=\"0 0 24 24\"\r\n                            >\r\n                                <path\r\n                                    strokeLinecap=\"round\"\r\n                                    strokeLinejoin=\"round\"\r\n                                    strokeWidth={2}\r\n                                    d=\"M5 10l7-7m0 0l7 7m-7-7v18\"\r\n                                />\r\n                            </svg>\r\n                        </m.button>\r\n                    )\r\n                }\r\n            </LazyMotion>\r\n            <ChatBot />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["_ref","tool","onClose","getToolKey","url","name","id","saved","setSaved","useState","saveCount","setSaveCount","copied","setCopied","useEffect","raw","localStorage","getItem","arr","JSON","parse","key","includes","err","onKey","e","window","addEventListener","removeEventListener","document","body","style","overflow","toggleBookmark","stopPropagation","filter","x","push","setItem","stringify","console","error","log","pricing","category","split","map","w","charAt","toUpperCase","slice","join","tags","rating","users","ReactDOM","_jsx","className","zIndex","onClick","children","_jsxs","role","scrollbarWidth","msOverflowStyle","FaTimes","image","src","alt","onError","target","display","parentElement","classList","add","innerHTML","badge","isNew","FaBookmark","FaRegBookmark","description","FaStar","features","feature","i","FaChartLine","useCases","useCase","FaDollarSign","FaUsers","FaTag","tag","href","addRefToUrl","link","rel","FaExternalLinkAlt","copyToClipboard","navigator","clipboard","writeText","setTimeout","FaCheck","FaCopy","MobileCategoryTabs","categories","activeId","onSelect","listRef","useRef","activeRef","el","current","list","elRect","getBoundingClientRect","listRect","left","right","scrollIntoView","behavior","inline","block","length","top","WebkitOverflowScrolling","ref","scrollBehavior","c","isActive","WebkitTapHighlightColor","label","MobileTopNav","onCategorySelect","onChoiceClick","onLogoClick","searchQuery","onSearchChange","dropdownOpen","setDropdownOpen","isSearchOpen","setIsSearchOpen","dropdownRef","searchInputRef","handleClickOutside","contains","focus","AnimatePresence","mode","m","div","initial","opacity","animate","exit","transition","duration","value","FaArrowLeft","onSubmit","preventDefault","blur","FaSearch","type","enterKeyHint","onChange","placeholder","Logo","button","whileHover","scale","whileTap","span","rotate","y","cat","handleCategorySelect","activePricing","setActivePricing","sortOrder","setSortOrder","open","setOpen","options","o","summaryLabel","_options$find","_options$find2","find","createPortal","_Fragment","damping","stiffness","opt","active","quickReplies","action","ChatBot","isOpen","setIsOpen","messages","setMessages","text","sender","input","setInput","isTyping","setIsTyping","context","setContext","lastIntent","lastTopic","lastResults","shownCount","userPreferences","budget","messagesEndRef","inputRef","chatRef","event","getInitialTools","Array","isArray","toolsData","flatMap","tools","allTools","setAllTools","scrollToBottom","_messagesEndRef$curre","async","api","default","response","get","data","liveTools","localTools","toolsMap","Map","forEach","set","toLowerCase","source","snapshotUrl","LogoImage","isAiToolsChoice","mergedTools","from","values","fetchTools","generateSmartResponse","userInput","newPreferences","getUpdatedPreferences","currentPrefs","lower","updates","prev","tempContext","match","detectIntent","mentionedTools","t","t1","t2","handleComparison","handlePricing","handleEducation","eduTools","_t$category","_t$pricing","_t$pricing2","topEdu","sort","a","b","handleContinuation","nextBatch","handleDiscovery","currentContext","currentTools","categoryKeywords","results","content","some","k","query","replace","trim","_t$tags","_t$pricing3","aScore","matched","handleUnknown","handleSend","arguments","undefined","newUserMsg","Date","now","botResponse","newBotMsg","background","backdropFilter","WebkitBackdropFilter","border","boxShadow","motion","animationDelay","Sparkles","clearChat","title","Eraser","X","msg","idx","delay","qr","onKeyPress","disabled","FaPaperPlane","FaMagic","pricingOptions","icon","color","getSelected","option","dateFilter","handleDateFilter","handleSortOrder","nameFilter","handleNameFilter","expandedSection","setExpandedSection","showCustomDate","setShowCustomDate","showLetterSelector","setShowLetterSelector","alphabet","letter","indexOf","splice","toggleLetter","Home","showAllCategories","setShowAllCategories","showAllStickyCategories","setShowAllStickyCategories","location","useLocation","history","useHistory","selectedTool","setSelectedTool","useMemo","topPicks","item","closeModal","useCallback","navigateToTool","comingSoon","toolSlug","categorySlug","setSearchQuery","suggestions","setSuggestions","isSearchFocused","setIsSearchFocused","isHovered","setIsHovered","activeFilter","setActiveFilter","setDateFilter","setNameFilter","PAGE_SIZE","showMoreMenu","setShowMoreMenu","page","setPage","params","URLSearchParams","search","p","parseInt","isNaN","mobileVisibleCount","setMobileVisibleCount","debounceRef","activeSuggestionIndex","setActiveSuggestionIndex","isMobile","setIsMobile","innerWidth","mobileSheetOpen","setMobileSheetOpen","showScrollTop","setShowScrollTop","isInitialLoading","setIsInitialLoading","showStickyNav","setShowStickyNav","stickyNavRef","stickyHeight","setStickyHeight","sidebarOpen","setSidebarOpen","viewMode","setViewMode","searchSectionRef","categoryHeadingRef","stickyCatsRef","mainCatsRef","ticking","handleScroll","requestAnimationFrame","scrollY","passive","observer","IntersectionObserver","entry","shouldShow","isIntersecting","boundingClientRect","offsetHeight","threshold","rootMargin","observe","disconnect","onDocClick","inSticky","inMain","animationFrameId","targetScroll","scrollLeft","isAnimating","animateScroll","diff","Math","abs","onWheel","deltaY","maxScroll","scrollWidth","clientWidth","max","min","onScroll","cancelAnimationFrame","handleScrollFallback","handler","detail","currentPlaceholderIndex","setCurrentPlaceholderIndex","placeholderFade","setPlaceholderFade","isPlaceholderPaused","setIsPlaceholderPaused","activePlaceholders","timer","setInterval","displayDuration","clearInterval","handleResize","rawUsername","approvedTools","setApprovedTools","cached","isLoading","setIsLoading","API_URL","envUrl","process","host","hostname","test","toSlug","val","String","getFaviconUrl","URL","getImageSrc","tick","floor","base","res","fetch","cache","headers","json","ok","url2","validTools","fetchApprovedTools","convertedApprovedTools","snapshot","snap","withLeading","startsWith","buildSnapshotUrl","fallback","rawCategory","normalizedCategory","parsed","createdAt","updatedAt","safeTime","_id","shortDescription","dateAdded","mergedToolsData","staticCategoriesMap","newCategoriesMap","has","displayName","mobileCategories","localeCompare","toolList","fuse","FuseCtor","FuseNamespace","keys","handleInputChange","targetEl","getElementById","clearTimeout","r","filteredTools","result","searchLower","matchesSearch","matchesCategory","matchesPricing","toolPricing","matchesDate","toolDate","getDate","getMonth","getFullYear","d","Number","matchesNameFilter","firstChar","nameA","nameB","allToolsFlatSorted","_location$hash","hash","toolsEl","isFirstRun","closest","pathname","toString","updatePage","next","loadMoreMobile","buildPageList","totalPages","_","pages","windowStart","windowEnd","visibleCategories","hiddenCategories","priorityIds","all","Boolean","debugMode","curatedBase","userCats","Set","dataCats","allSet","extra","LazyMotion","domAnimation","backgroundImage","transformOrigin","backgroundBlendMode","height","maskImage","toolsSection","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","FaChevronRight","querySelector","scrollTo","reduce","acc","PricingDropdown","UnifiedSortDropdown","MobileSortMenu","Player","autoplay","loop","width","margin","total","displayed","ceil","start","end","patternIndex","spanClass","ToolCard","loading","currentTarget","nextSibling","toLocaleDateString","month","day","ToolDetailModal","scrollToTop"],"sourceRoot":""}